(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-655b92da"],{"2e3e":function(e,t,a){},"3e4b":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o=e=>(Object(c["L"])("data-v-45f6f1a5"),e=e(),Object(c["J"])(),e),i={key:0,class:"load"},n={key:1,class:"content"},l={class:"content-header"},b=o(()=>Object(c["l"])("div",{class:"content-header-title"}," 错误文件 ",-1)),s={class:"content-header-tool"},r=o(()=>Object(c["l"])("i",{class:"bx bx-trash"},null,-1)),d=o(()=>Object(c["l"])("i",{class:"bx bx-analyse"},null,-1)),O=o(()=>Object(c["l"])("i",{class:"bx bxs-error-circle"},null,-1)),j={class:"data-table"},u={class:"data-footer"},h=o(()=>Object(c["l"])("i",{class:"bx bx-x"},null,-1)),p=o(()=>Object(c["l"])("h3",null,"确定创建错误文件修复任务吗？",-1)),f=o(()=>Object(c["l"])("i",{class:"bx bx-x"},null,-1)),w=o(()=>Object(c["l"])("i",{class:"bx bx-trash"},null,-1)),g=o(()=>Object(c["l"])("i",{class:"bx bx-save"},null,-1));function m(e,t,a,o,m,y){const k=Object(c["R"])("n-button"),v=Object(c["R"])("n-space"),x=Object(c["R"])("n-data-table"),_=Object(c["R"])("n-pagination"),M=Object(c["R"])("n-card"),z=Object(c["R"])("n-modal"),R=Object(c["R"])("n-input"),A=Object(c["R"])("n-form-item"),$=Object(c["R"])("n-form");return e.loading?(Object(c["I"])(),Object(c["k"])("div",i)):(Object(c["I"])(),Object(c["k"])("div",n,[Object(c["l"])("div",l,[b,Object(c["l"])("div",s,[Object(c["n"])(v,{justify:"end",size:"medium"},{default:Object(c["bb"])(()=>[e.checkedRowKeys.length>0?(Object(c["I"])(),Object(c["i"])(k,{key:0,onClick:t[0]||(t[0]=t=>e.DeleteList()),type:"warning"},{icon:Object(c["bb"])(()=>[r]),default:Object(c["bb"])(()=>[Object(c["m"])(" 删除所选 ")]),_:1})):Object(c["j"])("",!0),Object(c["n"])(k,{onClick:t[1]||(t[1]=t=>e.reFData()),type:"info"},{icon:Object(c["bb"])(()=>[d]),default:Object(c["bb"])(()=>[Object(c["m"])(" 刷新 ")]),_:1}),Object(c["n"])(k,{onClick:t[2]||(t[2]=t=>e.errModal=!e.errModal),type:"info"},{icon:Object(c["bb"])(()=>[O]),default:Object(c["bb"])(()=>[Object(c["m"])(" 修复 ")]),_:1})]),_:1})])]),Object(c["l"])("div",j,[Object(c["n"])(x,{columns:e.columns,data:e.data,pagination:e.pagination,bordered:!0,"row-key":e.rowKey,"onUpdate:checkedRowKeys":e.handleCheck},null,8,["columns","data","pagination","row-key","onUpdate:checkedRowKeys"])]),Object(c["l"])("div",u,[Object(c["n"])(v,{justify:"end"},{default:Object(c["bb"])(()=>[Object(c["n"])(_,{page:e.page,"onUpdate:page":t[3]||(t[3]=t=>e.page=t),"page-count":e.num,"page-slot":5},null,8,["page","page-count"])]),_:1})]),Object(c["n"])(z,{"transform-origin":"center",show:e.errModal,"onUpdate:show":t[6]||(t[6]=t=>e.errModal=t)},{default:Object(c["bb"])(()=>[Object(c["n"])(M,{style:{width:"600px"},title:"确认",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":Object(c["bb"])(()=>[Object(c["n"])(k,{onClick:t[4]||(t[4]=t=>e.errModal=!e.errModal),strong:"",secondary:"",circle:""},{default:Object(c["bb"])(()=>[h]),_:1})]),footer:Object(c["bb"])(()=>[Object(c["n"])(v,{justify:"end",size:"medium"},{default:Object(c["bb"])(()=>[Object(c["n"])(k,{onClick:t[5]||(t[5]=t=>e.reF()),type:"info"},{default:Object(c["bb"])(()=>[Object(c["m"])(" 确定 ")]),_:1})]),_:1})]),default:Object(c["bb"])(()=>[p]),_:1})]),_:1},8,["show"]),Object(c["n"])(z,{"transform-origin":"center",show:e.editModal,"onUpdate:show":t[12]||(t[12]=t=>e.editModal=t)},{default:Object(c["bb"])(()=>[Object(c["n"])(M,{style:{width:"600px"},title:"处理",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":Object(c["bb"])(()=>[Object(c["n"])(k,{onClick:t[7]||(t[7]=t=>e.editModal=!e.editModal),strong:"",secondary:"",circle:""},{default:Object(c["bb"])(()=>[f]),_:1})]),footer:Object(c["bb"])(()=>[Object(c["n"])(v,{justify:"end",size:"medium"},{default:Object(c["bb"])(()=>[Object(c["n"])(k,{onClick:t[10]||(t[10]=t=>e.Delete()),type:"warning"},{icon:Object(c["bb"])(()=>[w]),default:Object(c["bb"])(()=>[Object(c["m"])(" 删除 ")]),_:1}),Object(c["n"])(k,{onClick:t[11]||(t[11]=t=>e.Updata()),type:"info"},{icon:Object(c["bb"])(()=>[g]),default:Object(c["bb"])(()=>[Object(c["m"])(" 更新 ")]),_:1})]),_:1})]),default:Object(c["bb"])(()=>[Object(c["n"])($,{model:e.errfile},{default:Object(c["bb"])(()=>[Object(c["n"])(A,{label:"文件"},{default:Object(c["bb"])(()=>[Object(c["n"])(R,{size:"large",value:e.errfile.file,"onUpdate:value":t[8]||(t[8]=t=>e.errfile.file=t),placeholder:"",clearable:""},null,8,["value"])]),_:1}),Object(c["n"])(A,{label:"错误信息"},{default:Object(c["bb"])(()=>[Object(c["n"])(R,{size:"large",value:e.errfile.err_msg,"onUpdate:value":t[9]||(t[9]=t=>e.errfile.err_msg=t),placeholder:"",clearable:""},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])]))}var y=a("3519"),k=a("d420"),v=a("0d1c"),x=a.n(v);const _=({play:e})=>[{type:"selection",disabled(e){return"Edward King 3"===e.id}},{title:"ID",key:"id",resizable:!0,minWidth:50},{title:"文件",key:"file",resizable:!0,minWidth:300},{title:"错误信息",key:"err_msg",resizable:!0,minWidth:400,maxWidth:600},{title:"操作",key:"actions",render(t){return Object(c["q"])(y["c"],{strong:!0,tertiary:!0,size:"small",onClick:()=>e(t)},{default:()=>"处理"})}}];var M=Object(c["o"])({name:"console",setup(){const e=Object(c["O"])(!0),t=Object(c["O"])(!1),a=Object(c["O"])(!1),o=Object(c["O"])(null),i=Object(c["O"])(null),n=Object(c["O"])(null),l=Object(c["O"])(null),{proxy:b}=Object(c["p"])(),s=Object(c["O"])(1),r=Object(c["O"])(0),d=Object(c["O"])(12);l.value=b.$route.query.id;const O=Object(k["a"])(),j=Object(c["O"])([]);function u(){b.axios.post(`${b.COMMON.apiUrl}/v1/api/errfile/work/list?id=${l.value}&page=${s.value}&size=${d.value}`,{},{headers:{"content-type":"application/json",Authorization:b.$cookies.get("Authorization")}}).then(t=>{200==t.data.code?(n.value=t.data.data,r.value=Math.round(t.data.num/d.value)+1,e.value=!1):x.a.show({pos:"top-center",text:t.data.msg,showAction:!1})}).catch(e=>{x.a.show({pos:"top-center",text:e,showAction:!1})})}function h(){b.axios.post(`${b.COMMON.apiUrl}/v1/api/errfile/ref/work/list?id=${l.value}`,{},{headers:{"content-type":"application/json",Authorization:b.$cookies.get("Authorization")}}).then(e=>{x.a.show({pos:"top-center",text:e.data.msg,showAction:!1})}).catch(e=>{x.a.show({pos:"top-center",text:e,showAction:!1})})}const p=async()=>{h()},f=async()=>{u()};return Object(c["F"])(()=>{u()}),{data:n,dialog:O,errfile:i,errModal:t,editModal:a,reF:p,reFData:f,error:o,loading:e,page:s,num:r,columns:_({play(e){i.value=e,a.value=!a.value}}),checkedRowKeys:j,rowKey:e=>e.id,handleCheck(e){j.value=e},pagination:!1}},methods:{Request(e,t){this.axios.post(e,t,{headers:{"content-type":"application/json",Authorization:this.$cookies.get("Authorization")}}).then(e=>{200==e.data.code?(this.reFData(),x.a.show({pos:"top-center",text:e.data.msg,showAction:!1})):x.a.show({pos:"top-center",text:e.data.msg,showAction:!1})}).catch(e=>{x.a.show({pos:"top-center",text:e,showAction:!1})})},Updata(){this.Request(`${this.COMMON.apiUrl}/v1/api/errfile/update?id=${this.errfile.id}`,this.errfile)},Delete(){this.Request(`${this.COMMON.apiUrl}/v1/api/errfile/delete?id=${this.errfile.id}`,{})},DeleteList(){Promise.all(this.checkedRowKeys.map(async e=>{let t=`${this.COMMON.apiUrl}/v1/api/errfile/delete?id=${e}`;this.axios.post(t,{},{headers:{"content-type":"application/json",Authorization:this.$cookies.get("Authorization")}}).then(e=>{0==e.data.code?x.a.show({pos:"top-center",text:e.data.msg,showAction:!1}):this.reFData()}).catch(e=>{x.a.show({pos:"top-center",text:e,showAction:!1})})})).then(()=>{this.checkedRowKeys=[]})}},watch:{page:function(e){this.page=e,this.reFData()}}}),z=(a("9444"),a("6b0d")),R=a.n(z);const A=R()(M,[["render",m],["__scopeId","data-v-45f6f1a5"]]);t["default"]=A},9444:function(e,t,a){"use strict";a("2e3e")}}]);
//# sourceMappingURL=chunk-655b92da.e5716eab.js.map