(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afe409d6"],{"6f5d":function(e,t,a){"use strict";a("7d0b")},"7d0b":function(e,t,a){},9261:function(e,t,a){"use strict";a.r(t);var l=a("7a23");const n=e=>(Object(l["L"])("data-v-cd2ed0c2"),e=e(),Object(l["J"])(),e),c={key:0,class:"load"},o={key:1,class:"content setting-content"},i=n(()=>Object(l["l"])("div",{class:"setting-header"},[Object(l["l"])("div",{class:"setting-title"}," 系统设置 ")],-1)),u={class:"setting-content-form"};function b(e,t,a,n,b,d){const s=Object(l["R"])("n-input"),p=Object(l["R"])("n-form-item"),r=Object(l["R"])("n-button"),v=Object(l["R"])("n-form");return n.load?(Object(l["I"])(),Object(l["k"])("div",c)):(Object(l["I"])(),Object(l["k"])("div",o,[i,Object(l["l"])("div",u,[Object(l["n"])(v,{model:n.config,"label-placement":"top","label-align":"left","label-width":140,style:{maxWidth:"640px"}},{default:Object(l["bb"])(()=>[Object(l["n"])(p,{label:"影视库名字",path:"inputValue"},{default:Object(l["bb"])(()=>[Object(l["n"])(s,{value:n.config.title,"onUpdate:value":t[0]||(t[0]=e=>n.config.title=e),size:"large",placeholder:"",clearable:""},null,8,["value"])]),_:1}),Object(l["n"])(p,{label:"影视库图标",path:"inputValue"},{default:Object(l["bb"])(()=>[Object(l["n"])(s,{value:n.config.faviconico_url,"onUpdate:value":t[1]||(t[1]=e=>n.config.faviconico_url=e),size:"large",placeholder:"",clearable:""},null,8,["value"])]),_:1}),Object(l["n"])(p,{label:"是否下载刮削图片到本地，填'是',或者'否'",path:"inputValue"},{default:Object(l["bb"])(()=>[Object(l["n"])(s,{value:n.config.download_image,"onUpdate:value":t[2]||(t[2]=e=>n.config.download_image=e),size:"large",placeholder:"",clearable:""},null,8,["value"])]),_:1}),Object(l["n"])(p,{label:"图片来源,留空则表示使用本地缓存图片,否则使用https://image.tmdb.org提供",path:"inputValue"},{default:Object(l["bb"])(()=>[Object(l["n"])(s,{value:n.config.img_url,"onUpdate:value":t[3]||(t[3]=e=>n.config.img_url=e),size:"large",placeholder:"",clearable:""},null,8,["value"])]),_:1}),Object(l["n"])(p,{label:"允许刮削alist中的视频文件类型",path:"inputValue"},{default:Object(l["bb"])(()=>[Object(l["n"])(s,{value:n.config.video_types,"onUpdate:value":t[4]||(t[4]=e=>n.config.video_types=e),size:"large",placeholder:"",clearable:""},null,8,["value"])]),_:1}),Object(l["n"])(p,{label:"TheMovieDb api密匙",path:"inputValue"},{default:Object(l["bb"])(()=>[Object(l["n"])(s,{value:n.config.key_db,"onUpdate:value":t[5]||(t[5]=e=>n.config.key_db=e),size:"large",placeholder:"",clearable:""},null,8,["value"])]),_:1}),Object(l["n"])(r,{class:"btn-save",onClick:t[6]||(t[6]=e=>d.Save()),type:"info"},{default:Object(l["bb"])(()=>[Object(l["m"])(" 保存 ")]),_:1})]),_:1},8,["model"])])]))}var d=a("0d1c"),s=a.n(d),p={name:"SettingIndex",setup(){const e=Object(l["O"])({title:null,download_image:null,img_url:null,key_db:null,faviconico_url:null,video_types:null}),{proxy:t}=Object(l["p"])(),a=Object(l["O"])(!0);function n(){t.axios.post(t.COMMON.apiUrl+"/v1/api/config/data",{},{headers:{"content-type":"application/json",Authorization:t.$cookies.get("Authorization")}}).then(t=>{200==t.data.code?(e.value=t.data.data,a.value=!1):s.a.show({pos:"top-center",text:t.data.msg,showAction:!1})}).catch(e=>{s.a.show({pos:"top-center",text:e,showAction:!1}),a.value=!1})}function c(){t.axios.post(t.COMMON.apiUrl+"/v1/api/config/save",e.value,{headers:{"content-type":"application/json",Authorization:t.$cookies.get("Authorization")}}).then(t=>{200==t.data.code?(e.value=t.data.data,localStorage.setItem("title",e.value.title),localStorage.setItem("img_url",e.value.img_url),location.reload()):s.a.show({pos:"top-center",text:t.data.msg,showAction:!1})}).catch(e=>{s.a.show({pos:"top-center",text:e,showAction:!1}),a.value=!1})}Object(l["F"])(()=>{n()});const o=async()=>{c()};return{config:e,load:a,saveF:o}},methods:{Save(){this.saveF()}}},r=(a("6f5d"),a("6b0d")),v=a.n(r);const O=v()(p,[["render",b],["__scopeId","data-v-cd2ed0c2"]]);t["default"]=O}}]);
//# sourceMappingURL=chunk-afe409d6.4b85ed0f.js.map