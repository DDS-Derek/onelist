{"version":3,"sources":["webpack:///./src/views/gallery/GalleryIndex.vue?ae5d","webpack:///./src/views/gallery/GalleryIndex.vue","webpack:///./src/views/gallery/GalleryIndex.vue?2d04"],"names":["class","_createElementVNode","loading","src","$setup","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_n_space","justify","size","_component_n_button","onClick","_cache","$event","reF","type","icon","_withCtx","_hoisted_6","$options","CreateShow","_hoisted_7","_hoisted_8","_component_n_grid","x-gap","y-gap","cols","responsive","_Fragment","_renderList","data","item","index","_createBlock","_component_n_gi","key","_component_n_card","title","header-extra","EditGallery","strong","secondary","circle","_hoisted_9","footer","_hoisted_12","_hoisted_13","vertical","_hoisted_14","_toDisplayString","gallery_type","_hoisted_15","is_alist","_hoisted_16","addPath","_hoisted_17","image","length","_ctx","COMMON","imgUrl","_hoisted_11","_component_n_modal","show","showModal","transform-origin","style","bordered","role","aria-modal","_hoisted_18","Create","_hoisted_19","_component_n_form","model","gallery","_component_n_form_item","label","_component_n_input","value","placeholder","clearable","path","_component_n_select","options","typeOptions","_component_n_switch","alist_host","alist_user","show-password-on","alist_pwd","updateModal","_hoisted_20","Delete","_hoisted_21","Update","_hoisted_22","name","setup","ref","error","proxy","getCurrentInstance","page","modal_title","fetchData","axios","post","apiUrl","headers","$cookies","get","then","res","code","Snackbar","pos","text","msg","showAction","catch","async","onMounted","map","v","methods","this","Request","api","$emit","is_tv","id","$router","push","query","gallery_uid","__exports__","render"],"mappings":"kHAAA,W,0ICCwBA,MAAM,Q,SAEdA,MAAM,W,GACTA,MAAM,kB,QACPC,eAEM,OAFDD,MAAM,wBAAuB,SAElC,I,GACKA,MAAM,uB,QAIKC,eAA6B,KAA1BD,MAAM,iBAAe,U,QAMxBC,eAAiC,KAA9BD,MAAM,qBAAmB,U,GAa3CA,MAAM,gB,QAMaC,eAA4B,KAAzBD,MAAM,gBAAc,U,mBAKnBE,QAAQ,OAAOF,MAAM,cAAcG,IAAI,2B,GAE1CH,MAAM,gB,GACFA,MAAM,gB,GAEEA,MAAM,gB,GAGNA,MAAM,iB,GAKdA,MAAM,gB,QAGCC,eAAiC,KAA9BD,MAAM,qBAAmB,U,QAehDC,eAAuB,KAApBD,MAAM,WAAS,U,QAgCVC,eAA0B,KAAvBD,MAAM,cAAY,U,QAY7BC,eAAuB,KAApBD,MAAM,WAAS,U,QAgCVC,eAA2B,KAAxBD,MAAM,eAAa,U,QAMtBC,eAA0B,KAAvBD,MAAM,cAAY,U,0VA1JtCI,EAAAF,S,iBAAXG,eACM,MADNC,K,iBAEAD,eAgKM,MAhKNE,EAgKM,CA/JFN,eA0BM,MA1BNO,EA0BM,CAzBFC,EAGAR,eAqBM,MArBNS,EAqBM,CApBFC,eAmBUC,EAAA,CAnBDC,QAAQ,MAAMC,KAAK,U,yBACxB,IAKW,CALXH,eAKWI,EAAA,CALAC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEd,EAAAe,OAAOC,KAAK,Q,CACfC,KAAIC,gBACX,IAA6B,CAA7BC,I,wBACO,IAEf,C,eAFe,U,MAGfZ,eAKWI,EAAA,CALAC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEM,EAAAC,cAAcL,KAAK,Q,CACtBC,KAAIC,gBACX,IAAiC,CAAjCI,I,wBACO,IAEf,C,eAFe,U,kBAY3BzB,eAqCM,MArCN0B,EAqCM,CApCFhB,eAmCSiB,EAAA,CAnCDC,QAAM,KAAKC,QAAM,KAAKC,KAAK,2BAA2BC,WAAW,U,yBAC/D,IAA6B,E,mBAAnC3B,eAiCO4B,OAAA,KAAAC,eAjCuB9B,EAAA+B,KAAI,CAApBC,EAAMC,K,iBAApBC,eAiCOC,EAAA,CAjC8BC,IAAKH,GAAK,C,wBAC3C,IA+BS,CA/BT1B,eA+BS8B,EAAA,CA/BAC,MAAON,EAAKM,O,CACNC,eAAYrB,gBACnB,IAEW,CAFXX,eAEWI,EAAA,CAFAC,QAAKE,GAAEM,EAAAoB,YAAYR,GAAOS,OAAA,GAAOC,UAAA,GAAUC,OAAA,I,yBAClD,IAA4B,CAA5BC,I,yBAMGC,OAAM3B,gBACb,IAmBM,CAnBNrB,eAmBM,MAnBNiD,EAmBM,CAlBFjD,eASM,MATNkD,EASM,CARFxC,eAOUC,EAAA,CAPDC,QAAQ,QAAQC,KAAK,SAASsC,SAAA,I,yBACnC,IAEM,CAFNnD,eAEM,MAFNoD,EAA0B,OACnBC,eAAGlB,EAAKmB,cAAY,GAE3BtD,eAEM,MAFNuD,EAA2B,UACjBF,eAAGlB,EAAKqB,SAAW,IAAM,KAAT,K,aAIlCxD,eAOM,MAPNyD,EAOM,CANF/C,eAKWI,EAAA,CALAC,QAAKE,GAAEM,EAAAmC,QAAQvB,GAAOhB,KAAK,Q,CACvBC,KAAIC,gBACX,IAAiC,CAAjCsC,I,wBACO,IAEf,C,eAFe,Y,qDAnB3B,IAC0E,CAD/DxB,EAAKyB,MAAMC,OAAS,G,iBAA/BzD,eAC0E,O,MADxCH,QAAQ,OAAOF,MAAM,cAClDG,IAAK4D,EAAAC,OAAOC,OAAS,kCAAoC7B,EAAKyB,O,6BACnExD,eAA6E,MAA7E6D,M,oDA2BhBvD,eA2CUwD,EAAA,CA3CDnE,MAAM,SAAiBoE,KAAMhE,EAAAiE,U,iCAAAjE,EAAAiE,UAASnD,GAAEoD,mBAAiB,U,yBAC9D,IAyCS,CAzCT3D,eAyCS8B,EAAA,CAzCD8B,MAAA,gBAAqB7B,MAAM,KAAM8B,UAAU,EAAO1D,KAAK,OAAO2D,KAAK,SAASC,aAAW,Q,CAChF/B,eAAYrB,gBACnB,IAEW,CAFXX,eAEWI,EAAA,CAFAC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEd,EAAAiE,WAAajE,EAAAiE,WAAWxB,OAAA,GAAOC,UAAA,GAAUC,OAAA,I,yBACvD,IAAuB,CAAvB4B,I,QA4BG1B,OAAM3B,gBACb,IAOU,CAPVX,eAOUC,EAAA,CAPDC,QAAQ,MAAMC,KAAK,U,yBACxB,IAKW,CALXH,eAKWI,EAAA,CALAC,QAAKC,EAAA,MAAAA,EAAA,IAAAC,GAAEM,EAAAoD,UAAUxD,KAAK,Q,CAClBC,KAAIC,gBACX,IAA0B,CAA1BuD,I,wBACO,IAEf,C,eAFe,U,wCA9BvB,IAwBS,CAxBTlE,eAwBSmE,EAAA,CAxBAC,MAAO3E,EAAA4E,SAAO,C,wBACnB,IAEc,CAFdrE,eAEcsE,EAAA,CAFDC,MAAM,SAAO,C,wBACtB,IAA+E,CAA/EvE,eAA+EwE,EAAA,CAAtErE,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQtC,M,gCAARtC,EAAA4E,QAAQtC,MAAKxB,GAAEmE,YAAY,GAAGC,UAAA,I,0BAEvE3E,eAEcsE,EAAA,CAFDC,MAAM,QAAM,C,wBACrB,IAA+E,CAA/EvE,eAA+EwE,EAAA,CAAtErE,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQnB,M,gCAARzD,EAAA4E,QAAQnB,MAAK3C,GAAEmE,YAAY,GAAGC,UAAA,I,0BAEvE3E,eAGcsE,EAAA,CAHDC,MAAM,KAAKK,KAAK,I,yBACzB,IAC6B,CAD7B5E,eAC6B6E,EAAA,CADnB1E,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQzB,a,gCAARnD,EAAA4E,QAAQzB,aAAYrC,GAAEmE,YAAY,SACnEI,QAASrF,EAAAsF,a,oCAElB/E,eAEcsE,EAAA,CAFDC,MAAM,iCAA+B,C,wBAC9C,IAAmF,CAAnFvE,eAAmFgF,EAAA,CAAzE7E,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQvB,S,gCAARrD,EAAA4E,QAAQvB,SAAQvC,GAAEmE,YAAY,GAAGC,UAAA,I,0CAE3E3E,eAEcsE,EAAA,CAFyBC,MAAM,MAAI,C,wBAC7C,IAAoF,CAApFvE,eAAoFwE,EAAA,CAA3ErE,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQY,W,gCAARxF,EAAA4E,QAAQY,WAAU1E,GAAEmE,YAAY,GAAGC,UAAA,I,uCADvDlF,EAAA4E,QAAQvB,Y,gBAG7B9C,eAEcsE,EAAA,CAFyBC,MAAM,MAAI,C,wBAC7C,IAAoF,CAApFvE,eAAoFwE,EAAA,CAA3ErE,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQa,W,gCAARzF,EAAA4E,QAAQa,WAAU3E,GAAEmE,YAAY,GAAGC,UAAA,I,uCADvDlF,EAAA4E,QAAQvB,Y,gBAG7B9C,eAGcsE,EAAA,CAHyBC,MAAM,MAAI,C,wBAC7C,IAC+B,CAD/BvE,eAC+BwE,EAAA,CADtB/D,KAAK,WAAW0E,mBAAiB,YAAYhF,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQe,U,gCAAR3F,EAAA4E,QAAQe,UAAS7E,GAC/FmE,YAAY,GAAGC,UAAA,I,uCAFFlF,EAAA4E,QAAQvB,c,6CAiBzC9C,eAiDUwD,EAAA,CAjDDnE,MAAM,SAAiBoE,KAAMhE,EAAA4F,Y,iCAAA5F,EAAA4F,YAAW9E,GAAEoD,mBAAiB,U,yBAChE,IA+CS,CA/CT3D,eA+CS8B,EAAA,CA/CD8B,MAAA,gBAAqB7B,MAAM,KAAM8B,UAAU,EAAO1D,KAAK,OAAO2D,KAAK,SAASC,aAAW,Q,CAChF/B,eAAYrB,gBACnB,IAEW,CAFXX,eAEWI,EAAA,CAFAC,QAAKC,EAAA,MAAAA,EAAA,IAAAC,GAAEd,EAAA4F,aAAe5F,EAAA4F,aAAanD,OAAA,GAAOC,UAAA,GAAUC,OAAA,I,yBAC3D,IAAuB,CAAvBkD,I,QA4BGhD,OAAM3B,gBACb,IAaU,CAbVX,eAaUC,EAAA,CAbDC,QAAQ,MAAMC,KAAK,U,yBACxB,IAKW,CALXH,eAKWI,EAAA,CALAC,QAAKC,EAAA,MAAAA,EAAA,IAAAC,GAAEM,EAAA0E,UAAU9E,KAAK,W,CAClBC,KAAIC,gBACX,IAA2B,CAA3B6E,I,wBACO,IAEf,C,eAFe,U,MAGfxF,eAKWI,EAAA,CALAC,QAAKC,EAAA,MAAAA,EAAA,IAAAC,GAAEM,EAAA4E,UAAUhF,KAAK,Q,CAClBC,KAAIC,gBACX,IAA0B,CAA1B+E,I,wBACO,IAEf,C,eAFe,U,wCApCvB,IAwBS,CAxBT1F,eAwBSmE,EAAA,CAxBAC,MAAO3E,EAAA4E,SAAO,C,wBACnB,IAEc,CAFdrE,eAEcsE,EAAA,CAFDC,MAAM,SAAO,C,wBACtB,IAA+E,CAA/EvE,eAA+EwE,EAAA,CAAtErE,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQtC,M,kCAARtC,EAAA4E,QAAQtC,MAAKxB,GAAEmE,YAAY,GAAGC,UAAA,I,0BAEvE3E,eAEcsE,EAAA,CAFDC,MAAM,QAAM,C,wBACrB,IAA+E,CAA/EvE,eAA+EwE,EAAA,CAAtErE,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQnB,M,kCAARzD,EAAA4E,QAAQnB,MAAK3C,GAAEmE,YAAY,GAAGC,UAAA,I,0BAEvE3E,eAGcsE,EAAA,CAHDC,MAAM,KAAKK,KAAK,I,yBACzB,IAC6B,CAD7B5E,eAC6B6E,EAAA,CADnB1E,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQzB,a,kCAARnD,EAAA4E,QAAQzB,aAAYrC,GAAEmE,YAAY,SACnEI,QAASrF,EAAAsF,a,oCAElB/E,eAEcsE,EAAA,CAFDC,MAAM,mCAAiC,C,wBAChD,IAAmF,CAAnFvE,eAAmFgF,EAAA,CAAzE7E,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQvB,S,kCAARrD,EAAA4E,QAAQvB,SAAQvC,GAAEmE,YAAY,GAAGC,UAAA,I,0CAE3E3E,eAEcsE,EAAA,CAFyBC,MAAM,MAAI,C,wBAC7C,IAAoF,CAApFvE,eAAoFwE,EAAA,CAA3ErE,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQY,W,kCAARxF,EAAA4E,QAAQY,WAAU1E,GAAEmE,YAAY,GAAGC,UAAA,I,uCADvDlF,EAAA4E,QAAQvB,Y,gBAG7B9C,eAEcsE,EAAA,CAFyBC,MAAM,MAAI,C,wBAC7C,IAAoF,CAApFvE,eAAoFwE,EAAA,CAA3ErE,KAAK,QAAgBsE,MAAOhF,EAAA4E,QAAQa,W,kCAARzF,EAAA4E,QAAQa,WAAU3E,GAAEmE,YAAY,GAAGC,UAAA,I,uCADvDlF,EAAA4E,QAAQvB,Y,gBAG7B9C,eAGcsE,EAAA,CAHyBC,MAAM,MAAI,C,wBAC7C,IAC+B,CAD/BvE,eAC+BwE,EAAA,CADtBrE,KAAK,QAAQM,KAAK,WAAW0E,mBAAiB,YAAoBV,MAAOhF,EAAA4E,QAAQe,U,kCAAR3F,EAAA4E,QAAQe,UAAS7E,GAC/FmE,YAAY,GAAGC,UAAA,I,uCAFFlF,EAAA4E,QAAQvB,c,mFA4BlC,GACX6C,KAAM,eACNC,QACI,MAAMrG,EAAUsG,gBAAI,GACdnC,EAAYmC,gBAAI,GAChBR,EAAcQ,gBAAI,GAClBC,EAAQD,eAAI,MACZrE,EAAOqE,eAAI,OACX,MAAEE,GAAUC,iBACZC,EAAOJ,eAAI,GACX1F,EAAO0F,eAAI,IACXK,EAAcL,eAAI,MAClBxB,EAAUwB,eAAI,CAChB,GAAM,KACN,MAAS,GACT,aAAgB,GAChB,OAAS,EACT,YAAe,GACf,MAAS,GACT,UAAY,EACZ,WAAc,GACd,WAAc,GACd,UAAa,KAGjB,SAASM,IACLJ,EAAMK,MAAMC,KAAKN,EAAM1C,OAAOiD,OAAS,6BAA+BL,EAAKxB,MAAQ,SAAWtE,EAAKsE,MAAO,GAAI,CAC1G8B,QAAS,CACL,eAAgB,mBAChB,cAAiBR,EAAMS,SAASC,IAAI,oBAEzCC,KAAKC,IACiB,KAAjBA,EAAInF,KAAKoF,MACTpF,EAAKiD,MAAQkC,EAAInF,KAAKA,KACtBjC,EAAQkF,OAAQ,GAEhBoC,IAASpD,KAAK,CAAEqD,IAAK,aAAcC,KAAMJ,EAAInF,KAAKwF,IAAKC,YAAY,MAExEC,MAAOpB,IACNe,IAASpD,KAAK,CAAEqD,IAAK,aAAcC,KAAMjB,EAAOmB,YAAY,MAIpE,MAAMzG,EAAM2G,UACRhB,KAKJ,OAHAiB,eAAU,KACNjB,MAEG,CACH3E,OACAsE,QACAvG,UACAmE,YACAuC,OACA5B,UACA6B,cACA/F,OACAkF,cACA7E,MACAuE,YAAa,CAAC,QAAS,MAAMsC,IACxBC,IAAC,CACE/C,MAAO+C,EACP7C,MAAO6C,OAKvBC,QAAS,CACLzG,aACI0G,KAAKnD,QAAU,CACX,MAAS,GACT,aAAgB,GAChB,OAAS,EACT,YAAe,GACf,MAAS,GACT,UAAY,EACZ,WAAc,GACd,WAAc,GACd,UAAa,IAEjBmD,KAAK9D,WAAa8D,KAAK9D,WAE3BzB,YAAYoC,GACRmD,KAAKnD,QAAUA,EACfmD,KAAKnC,aAAemC,KAAKnC,aAE7BoC,QAAQC,EAAKlG,GACTgG,KAAKpB,MAAMC,KAAKqB,EAAKlG,EAAM,CACvB+E,QAAS,CACL,eAAgB,mBAChB,cAAiBiB,KAAKhB,SAASC,IAAI,oBAExCC,KAAKC,IACiB,KAAjBA,EAAInF,KAAKoF,MACTY,KAAKG,MAAM,UACXd,IAASpD,KAAK,CAAEqD,IAAK,aAAcC,KAAMJ,EAAInF,KAAKwF,IAAKC,YAAY,IACnEO,KAAKhH,OAGLqG,IAASpD,KAAK,CAAEqD,IAAK,aAAcC,KAAMJ,EAAInF,KAAKwF,IAAKC,YAAY,MAExEC,MAAOpB,IACNe,IAASpD,KAAK,CAAEqD,IAAK,aAAcC,KAAMjB,EAAOmB,YAAY,OAGpEhD,SACqC,MAA7BuD,KAAKnD,QAAQzB,eACb4E,KAAKnD,QAAQuD,OAAQ,GAEzBJ,KAAKC,QAAQD,KAAKnE,OAAOiD,OAAS,yBAA0BkB,KAAKnD,UAErEoB,SACI+B,KAAKC,QAAQD,KAAKnE,OAAOiD,OAAS,6BAA+BkB,KAAKnD,QAAQwD,GAAIL,KAAKnD,UAE3FkB,SACIiC,KAAKC,QAAQD,KAAKnE,OAAOiD,OAAS,6BAA+BkB,KAAKnD,QAAQwD,GAAI,KAEtF7E,QAAQqB,GACJmD,KAAKM,QAAQC,KAAK,CACdnD,KAAM,kBACNoD,MAAO,CACHC,YAAa5D,EAAQ4D,kB,iCC3RzC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/chunk-1c5433ae.16761e99.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./GalleryIndex.vue?vue&type=style&index=0&id=77adebe6&scoped=true&lang=css\"","<template>\r\n    <div v-if=\"loading\" class=\"load\">\r\n    </div>\r\n    <div v-else class=\"content\">\r\n        <div class=\"content-header\">\r\n            <div class=\"content-header-title\">\r\n                媒体库\r\n            </div>\r\n            <div class=\"content-header-tool\">\r\n                <n-space justify=\"end\" size=\"medium\">\r\n                    <n-button @click=\"reF()\" type=\"info\">\r\n                        <template #icon>\r\n                            <i class='bx bx-analyse'></i>\r\n                        </template>\r\n                        刷新\r\n                    </n-button>\r\n                    <n-button @click=\"CreateShow()\" type=\"info\">\r\n                        <template #icon>\r\n                            <i class='bx bx-plus-circle'></i>\r\n                        </template>\r\n                        新增\r\n                    </n-button>\r\n                    <!-- <n-button strong secondary circle>\r\n                        <i class='bx bx-search'></i>\r\n                    </n-button>\r\n                    <n-button @click=\"CreateShow()\" strong secondary circle>\r\n                        <i class='bx bx-plus-circle'></i>\r\n                    </n-button> -->\r\n                </n-space>\r\n            </div>\r\n        </div>\r\n        <div class=\"gallery-list\">\r\n            <n-grid x-gap=\"12\" y-gap=\"12\" cols=\"1 s:2 m:2 l:4 xl:4 2xl:8\" responsive=\"screen\">\r\n                <n-gi v-for=\"(item, index) in data\" :key=\"index\">\r\n                    <n-card :title=\"item.title\">\r\n                        <template #header-extra>\r\n                            <n-button @click=\"EditGallery(item)\" strong secondary circle>\r\n                                <i class='bx bx-detail'></i>\r\n                            </n-button>\r\n                        </template>\r\n                        <img v-if=\"item.image.length > 0\" loading=\"lazy\" class='gallery-img'\r\n                            :src='COMMON.imgUrl + \"/t/p/w355_and_h200_multi_faces/\" + item.image'>\r\n                        <img v-else loading=\"lazy\" class='gallery-img' src='/images/not_gellery.png'>\r\n                        <template #footer>\r\n                            <div class=\"gallery-tool\">\r\n                                <div class=\"gallery-data\">\r\n                                    <n-space justify=\"start\" size=\"medium\" vertical>\r\n                                        <div class=\"gallery-type\">\r\n                                            类别：{{ item.gallery_type }}\r\n                                        </div>\r\n                                        <div class=\"gallery-alist\">\r\n                                            alist：{{ item.is_alist ? \"是\" : \"否\" }}\r\n                                        </div>\r\n                                    </n-space>\r\n                                </div>\r\n                                <div class=\"gallery-show\">\r\n                                    <n-button @click=\"addPath(item)\" type=\"info\">\r\n                                        <template #icon>\r\n                                            <i class='bx bx-plus-circle'></i>\r\n                                        </template>\r\n                                        挂载目录\r\n                                    </n-button>\r\n                                </div>\r\n                            </div>\r\n                        </template>\r\n                    </n-card>\r\n                </n-gi>\r\n            </n-grid>\r\n        </div>\r\n        <n-modal class=\"create\" v-model:show=\"showModal\" transform-origin=\"center\">\r\n            <n-card style=\"width: 600px\" title=\"创建\" :bordered=\"false\" size=\"huge\" role=\"dialog\" aria-modal=\"true\">\r\n                <template #header-extra>\r\n                    <n-button @click=\"showModal = !showModal\" strong secondary circle>\r\n                        <i class='bx bx-x'></i>\r\n                    </n-button>\r\n                </template>\r\n                <n-form :model=\"gallery\">\r\n                    <n-form-item label=\"媒体库标题\">\r\n                        <n-input size=\"large\" v-model:value=\"gallery.title\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item label=\"封面图片\">\r\n                        <n-input size=\"large\" v-model:value=\"gallery.image\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item label=\"类型\" path=\"\">\r\n                        <n-select size=\"large\" v-model:value=\"gallery.gallery_type\" placeholder=\"Select\"\r\n                            :options=\"typeOptions\" />\r\n                    </n-form-item>\r\n                    <n-form-item label=\"是否为alist,如果是则需要输入相关信息，用于刮削文件?\">\r\n                        <n-switch size=\"large\" v-model:value=\"gallery.is_alist\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item v-show=\"gallery.is_alist\" label=\"域名\">\r\n                        <n-input size=\"large\" v-model:value=\"gallery.alist_host\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item v-show=\"gallery.is_alist\" label=\"账号\">\r\n                        <n-input size=\"large\" v-model:value=\"gallery.alist_user\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item v-show=\"gallery.is_alist\" label=\"密码\">\r\n                        <n-input type=\"password\" show-password-on=\"mousedown\" size=\"large\" v-model:value=\"gallery.alist_pwd\"\r\n                            placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                </n-form>\r\n                <template #footer>\r\n                    <n-space justify=\"end\" size=\"medium\">\r\n                        <n-button @click=\"Create()\" type=\"info\">\r\n                            <template #icon>\r\n                                <i class='bx bx-save'></i>\r\n                            </template>\r\n                            创建\r\n                        </n-button>\r\n                    </n-space>\r\n                </template>\r\n            </n-card>\r\n        </n-modal>\r\n        <n-modal class=\"update\" v-model:show=\"updateModal\" transform-origin=\"center\">\r\n            <n-card style=\"width: 600px\" title=\"更新\" :bordered=\"false\" size=\"huge\" role=\"dialog\" aria-modal=\"true\">\r\n                <template #header-extra>\r\n                    <n-button @click=\"updateModal = !updateModal\" strong secondary circle>\r\n                        <i class='bx bx-x'></i>\r\n                    </n-button>\r\n                </template>\r\n                <n-form :model=\"gallery\">\r\n                    <n-form-item label=\"媒体库标题\">\r\n                        <n-input size=\"large\" v-model:value=\"gallery.title\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item label=\"封面图片\">\r\n                        <n-input size=\"large\" v-model:value=\"gallery.image\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item label=\"类型\" path=\"\">\r\n                        <n-select size=\"large\" v-model:value=\"gallery.gallery_type\" placeholder=\"Select\"\r\n                            :options=\"typeOptions\" />\r\n                    </n-form-item>\r\n                    <n-form-item label=\"是否为alist,如果是则需要输入以下相关信息，用于刮削文件?\">\r\n                        <n-switch size=\"large\" v-model:value=\"gallery.is_alist\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item v-show=\"gallery.is_alist\" label=\"域名\">\r\n                        <n-input size=\"large\" v-model:value=\"gallery.alist_host\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item v-show=\"gallery.is_alist\" label=\"账号\">\r\n                        <n-input size=\"large\" v-model:value=\"gallery.alist_user\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item v-show=\"gallery.is_alist\" label=\"密码\">\r\n                        <n-input size=\"large\" type=\"password\" show-password-on=\"mousedown\" v-model:value=\"gallery.alist_pwd\"\r\n                            placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                </n-form>\r\n                <template #footer>\r\n                    <n-space justify=\"end\" size=\"medium\">\r\n                        <n-button @click=\"Delete()\" type=\"warning\">\r\n                            <template #icon>\r\n                                <i class='bx bx-trash'></i>\r\n                            </template>\r\n                            删除\r\n                        </n-button>\r\n                        <n-button @click=\"Update()\" type=\"info\">\r\n                            <template #icon>\r\n                                <i class='bx bx-save'></i>\r\n                            </template>\r\n                            更新\r\n                        </n-button>\r\n                    </n-space>\r\n                </template>\r\n            </n-card>\r\n        </n-modal>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Snackbar from 'node-snackbar';\r\nimport { getCurrentInstance, onMounted, ref } from \"vue\";\r\nexport default {\r\n    name: 'GalleryIndex',\r\n    setup() {\r\n        const loading = ref(true);\r\n        const showModal = ref(false);\r\n        const updateModal = ref(false);\r\n        const error = ref(null);\r\n        const data = ref(null);\r\n        const { proxy } = getCurrentInstance();\r\n        const page = ref(1);\r\n        const size = ref(24);\r\n        const modal_title = ref(\"创建\");\r\n        const gallery = ref({\r\n            \"id\": null,\r\n            \"title\": \"\",\r\n            \"gallery_type\": \"\",\r\n            \"is_tv\": true,\r\n            \"gallery_uid\": \"\",\r\n            \"image\": \"\",\r\n            \"is_alist\": false,\r\n            \"alist_host\": \"\",\r\n            \"alist_user\": \"\",\r\n            \"alist_pwd\": \"\",\r\n        })\r\n\r\n        function fetchData() {\r\n            proxy.axios.post(proxy.COMMON.apiUrl + '/v1/api/gallery/list?page=' + page.value + '&size=' + size.value, {}, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': proxy.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    data.value = res.data.data;\r\n                    loading.value = false;\r\n                } else {\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                }\r\n            }).catch((error) => {\r\n                Snackbar.show({ pos: 'top-center', text: error, showAction: false });\r\n            });\r\n        }\r\n\r\n        const reF = async () => {\r\n            fetchData();\r\n        };\r\n        onMounted(() => {\r\n            fetchData();\r\n        });\r\n        return {\r\n            data,\r\n            error,\r\n            loading,\r\n            showModal,\r\n            page,\r\n            gallery,\r\n            modal_title,\r\n            size,\r\n            updateModal,\r\n            reF,\r\n            typeOptions: [\"movie\", \"tv\"].map(\r\n                (v) => ({\r\n                    label: v,\r\n                    value: v\r\n                })\r\n            )\r\n        }\r\n    },\r\n    methods: {\r\n        CreateShow() {\r\n            this.gallery = {\r\n                \"title\": \"\",\r\n                \"gallery_type\": \"\",\r\n                \"is_tv\": false,\r\n                \"gallery_uid\": \"\",\r\n                \"image\": \"\",\r\n                \"is_alist\": true,\r\n                \"alist_host\": \"\",\r\n                \"alist_user\": \"\",\r\n                \"alist_pwd\": \"\",\r\n            };\r\n            this.showModal = !this.showModal;\r\n        },\r\n        EditGallery(gallery) {\r\n            this.gallery = gallery;\r\n            this.updateModal = !this.updateModal;\r\n        },\r\n        Request(api, data) {\r\n            this.axios.post(api, data, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': this.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.$emit(\"refApp\");\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                    this.reF();\r\n\r\n                } else {\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                }\r\n            }).catch((error) => {\r\n                Snackbar.show({ pos: 'top-center', text: error, showAction: false });\r\n            });\r\n        },\r\n        Create() {\r\n            if (this.gallery.gallery_type == \"tv\") {\r\n                this.gallery.is_tv = true;\r\n            }\r\n            this.Request(this.COMMON.apiUrl + '/v1/api/gallery/create', this.gallery)\r\n        },\r\n        Update() {\r\n            this.Request(this.COMMON.apiUrl + '/v1/api/gallery/update?id=' + this.gallery.id, this.gallery)\r\n        },\r\n        Delete() {\r\n            this.Request(this.COMMON.apiUrl + '/v1/api/gallery/delete?id=' + this.gallery.id, {})\r\n        },\r\n        addPath(gallery) {\r\n            this.$router.push({\r\n                path: \"/gallerys/works\",\r\n                query: {\r\n                    gallery_uid: gallery.gallery_uid\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script >\r\n\r\n<style scoped>\r\n.content-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    min-height: 60px;\r\n    margin-bottom: 12px;\r\n}\r\n\r\n.gallery-tool {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: flex-end;\r\n}\r\n\r\n.content-header-title {\r\n    font-size: 1.4em;\r\n}\r\n\r\n.gallery-data {\r\n    font-size: 18px;\r\n}\r\n</style>","import { render } from \"./GalleryIndex.vue?vue&type=template&id=77adebe6&scoped=true\"\nimport script from \"./GalleryIndex.vue?vue&type=script&lang=js\"\nexport * from \"./GalleryIndex.vue?vue&type=script&lang=js\"\n\nimport \"./GalleryIndex.vue?vue&type=style&index=0&id=77adebe6&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\file\\\\vue\\\\onelist-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-77adebe6\"]])\n\nexport default __exports__"],"sourceRoot":""}