(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c906ad9"],{"5c9b":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const l=e=>(Object(c["L"])("data-v-457e5a78"),e=e(),Object(c["J"])(),e),b={key:0,class:"load"},s={key:1,class:"content"},i={class:"seriesTab"},o={class:"seriesTab-list"},O={class:"seriesTab-item"},n={class:"seriesTab-item"},r=l(()=>Object(c["l"])("i",{class:"bx bx-left-arrow-alt"},null,-1)),u={class:"seriesTab-item"},j=l(()=>Object(c["l"])("i",{class:"bx bx-right-arrow-alt"},null,-1)),d={class:"seriesTab-item"},v=l(()=>Object(c["l"])("i",{class:"bx bx-filter"},null,-1)),h={class:"card-show-content view-card-list"},p={class:"view-item-header"},g={class:"view-item-tag-list"},m={class:"view-item-tag rating"},w={key:0,class:"view-item-tag count"},k=l(()=>Object(c["l"])("i",{class:"bx bx-check"},null,-1)),y=[k],f=["src"],_={key:0,class:"view-item-title"},x={key:1,class:"view-item-title"},C=l(()=>Object(c["l"])("i",{class:"bx bx-x"},null,-1)),T={class:"sort-list"},M={class:"sort-list"};function I(e,t,a,l,k,I){const N=Object(c["R"])("n-button"),S=Object(c["R"])("router-link"),$=Object(c["R"])("n-radio"),q=Object(c["R"])("n-space"),z=Object(c["R"])("n-radio-group"),R=Object(c["R"])("n-card"),P=Object(c["R"])("n-modal");return l.loading?(Object(c["I"])(),Object(c["k"])("div",b)):(Object(c["I"])(),Object(c["k"])("div",s,[Object(c["l"])("div",i,[Object(c["l"])("div",o,[Object(c["l"])("div",O,Object(c["T"])(l.pageText),1),Object(c["l"])("div",n,[Object(c["n"])(N,{onClick:t[0]||(t[0]=t=>e.BackPage()),strong:"",secondary:"",circle:""},{default:Object(c["bb"])(()=>[r]),_:1})]),Object(c["l"])("div",u,[Object(c["n"])(N,{onClick:t[1]||(t[1]=e=>I.NextPage()),strong:"",secondary:"",circle:""},{default:Object(c["bb"])(()=>[j]),_:1})]),Object(c["l"])("div",d,[Object(c["n"])(N,{onClick:t[2]||(t[2]=e=>l.showSort=!l.showSort),strong:"",secondary:"",circle:""},{default:Object(c["bb"])(()=>[v]),_:1})])])]),Object(c["l"])("div",h,[(Object(c["I"])(!0),Object(c["k"])(c["b"],null,Object(c["P"])(l.data,(t,a)=>(Object(c["I"])(),Object(c["k"])("div",{class:"view-item",key:a},[Object(c["n"])(S,{to:{path:"/video",query:{id:t.id,gallery_type:l.data_type}}},{default:Object(c["bb"])(()=>[Object(c["l"])("div",p,[Object(c["l"])("div",g,[Object(c["l"])("div",m,Object(c["T"])(isNaN(Math.floor(100*t.vote_average)/100)?"":Math.floor(100*t.vote_average)/100),1),t.played?(Object(c["I"])(),Object(c["k"])("div",w,y)):Object(c["j"])("",!0)])]),Object(c["l"])("img",{loading:"lazy",class:"carousel-img",src:e.COMMON.imgUrl+"/t/p/w220_and_h330_face/"+t.poster_path},null,8,f),null!=t.video?(Object(c["I"])(),Object(c["k"])("div",_,Object(c["T"])(t.title),1)):(Object(c["I"])(),Object(c["k"])("div",x,Object(c["T"])(t.name),1))]),_:2},1032,["to"])]))),128))]),Object(c["n"])(P,{show:l.showSort,"onUpdate:show":t[5]||(t[5]=e=>l.showSort=e),"transform-origin":"center"},{default:Object(c["bb"])(()=>[Object(c["n"])(R,{style:{width:"600px"},title:"选择分类",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":Object(c["bb"])(()=>[Object(c["n"])(N,{onClick:t[3]||(t[3]=e=>l.showSort=!l.showSort),strong:"",secondary:"",circle:""},{default:Object(c["bb"])(()=>[C]),_:1})]),default:Object(c["bb"])(()=>[Object(c["l"])("div",T,[Object(c["l"])("div",M,[Object(c["n"])(z,{value:l.mode,"onUpdate:value":t[4]||(t[4]=e=>l.mode=e),name:"radiogroup"},{default:Object(c["bb"])(()=>[Object(c["n"])(q,{vertical:""},{default:Object(c["bb"])(()=>[(Object(c["I"])(!0),Object(c["k"])(c["b"],null,Object(c["P"])(l.modes,e=>(Object(c["I"])(),Object(c["i"])($,{onChange:l.handleChange,class:"sort-item",checked:l.mode===e.value,key:e.value,value:e.value},{default:Object(c["bb"])(()=>[Object(c["m"])(Object(c["T"])(e.label),1)]),_:2},1032,["onChange","checked","value"]))),128))]),_:1})]),_:1},8,["value"])])])]),_:1})]),_:1},8,["show"])]))}var N=a("0d1c"),S=a.n(N),$=a("6605"),q={name:"VideoSearch",setup(){const e=Object(c["O"])(null),t=Object(c["O"])(null),a=Object(c["O"])(null),l=Object(c["O"])(null),b=Object(c["O"])(null),s=Object(c["O"])(!0),{proxy:i}=Object(c["p"])(),o=Object(c["O"])(null),O=Object(c["O"])(!1),n=Object(c["O"])(null),r=Object(c["O"])(null),u=Object(c["O"])(null),j=Object(c["O"])(null);t.value=48,a.value=1;const d=Object(c["O"])(8);i.COMMON.isMo&&(d.value=3);const v=Object(c["O"])(null);function h(){let e=t.value;o.value<t.value&&(e=o.value),v.value=o.value+" 的 "+(a.value-1)*t.value+"-"+((a.value-1)*t.value+e)}function p(){let c=i.COMMON.apiUrl+`/v1/api/themovie/search?q=${j.value}&?page=${a.value}&size=${t.value}`;"tv"==e.value&&(c=i.COMMON.apiUrl+`/v1/api/thetv/search?q=${j.value}&?page=${a.value}&size=${t.value}`),i.axios.post(c,{},{headers:{"content-type":"application/json",Authorization:i.$cookies.get("Authorization")}}).then(e=>{200==e.data.code&&(l.value=e.data.data,o.value=e.data.num,s.value=!1,h())}).catch(e=>{S.a.show({pos:"top-center",text:e,showAction:!1})})}e.value="movie",n.value=e.value,j.value=i.$route.query.q,Object($["d"])((e,t)=>{j.value=e.query.q,p()});const g=()=>{p()};return Object(c["F"])(()=>{p()}),{data_type:e,per_card:d,data:l,loading:s,error:b,page:a,size:t,num:o,search:O,pageText:v,genre:r,year:u,reF:g,handleChange(){a.value=1,e.value=n.value,p()},showSort:Object(c["O"])(!1),showFilter:Object(c["O"])(!1),mode:n,modes:[{value:"tv",label:"节目"},{value:"movie",label:"电影"}].map(e=>(e.value=e.value.toLowerCase(),e))}},methods:{NextPage(){this.page=this.page+1,this.reF()}}},z=(a("a634"),a("6b0d")),R=a.n(z);const P=R()(q,[["render",I],["__scopeId","data-v-457e5a78"]]);t["default"]=P},"65ec":function(e,t,a){},a634:function(e,t,a){"use strict";a("65ec")}}]);
//# sourceMappingURL=chunk-4c906ad9.f8515004.js.map