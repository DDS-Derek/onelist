(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2644d41c"],{"4cb3":function(e,t,a){"use strict";a("672f")},"672f":function(e,t,a){},"6fc5":function(e,t,a){"use strict";a.r(t);var l=a("7a23");const c=e=>(Object(l["L"])("data-v-149088cd"),e=e(),Object(l["J"])(),e),i={key:0,class:"load"},b={key:1,class:"content"},s={class:"seriesTab"},r={class:"seriesTab-list"},o={class:"seriesTab-item"},n={class:"seriesTab-item"},O=c(()=>Object(l["l"])("i",{class:"bx bx-left-arrow-alt"},null,-1)),d={class:"seriesTab-item"},u=c(()=>Object(l["l"])("i",{class:"bx bx-right-arrow-alt"},null,-1)),j={class:"card-show-content view-card-list"},v={class:"view-item-header"},g={class:"view-item-tag-list"},h={class:"view-item-tag rating"},m={key:0,class:"view-item-tag count"},p=c(()=>Object(l["l"])("i",{class:"bx bx-check"},null,-1)),f=[p],y=["src"],w={key:0,class:"view-item-title"},k={key:1,class:"view-item-title"},_=c(()=>Object(l["l"])("i",{class:"bx bx-x"},null,-1)),I={class:"sort-list"},C=c(()=>Object(l["l"])("div",{class:"sort-title"}," 排序方式 ",-1)),x={class:"sort-list"},P=c(()=>Object(l["l"])("div",{class:"sort-title"}," 排序顺序 ",-1)),T={class:"sort-list"},M=c(()=>Object(l["l"])("i",{class:"bx bx-x"},null,-1)),U=c(()=>Object(l["l"])("div",{class:"sort-title"}," 风格 ",-1)),q={class:"sort-list"},N=c(()=>Object(l["l"])("div",{class:"sort-title"}," 年份 ",-1)),R={class:"sort-list"};function S(e,t,a,c,p,S){const z=Object(l["R"])("n-button"),L=Object(l["R"])("router-link"),A=Object(l["R"])("n-radio"),B=Object(l["R"])("n-space"),D=Object(l["R"])("n-radio-group"),E=Object(l["R"])("n-card"),F=Object(l["R"])("n-modal");return c.loading?(Object(l["I"])(),Object(l["k"])("div",i)):(Object(l["I"])(),Object(l["k"])("div",b,[Object(l["l"])("div",s,[Object(l["l"])("div",r,[Object(l["l"])("div",o,Object(l["T"])(c.pageText),1),Object(l["l"])("div",n,[Object(l["n"])(z,{onClick:t[0]||(t[0]=e=>S.BackPage()),strong:"",secondary:"",circle:""},{default:Object(l["bb"])(()=>[O]),_:1})]),Object(l["l"])("div",d,[Object(l["n"])(z,{onClick:t[1]||(t[1]=e=>S.NextPage()),strong:"",secondary:"",circle:""},{default:Object(l["bb"])(()=>[u]),_:1})])])]),Object(l["l"])("div",j,[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.data,(t,a)=>(Object(l["I"])(),Object(l["k"])("div",{class:"view-item",key:a},[Object(l["n"])(L,{to:{path:"/video",query:{id:t.id,gallery_type:c.gallery_type}}},{default:Object(l["bb"])(()=>[Object(l["l"])("div",v,[Object(l["l"])("div",g,[Object(l["l"])("div",h,Object(l["T"])(isNaN(Math.floor(100*t.vote_average)/100)?"":Math.floor(100*t.vote_average)/100),1),t.played?(Object(l["I"])(),Object(l["k"])("div",m,f)):Object(l["j"])("",!0)])]),Object(l["l"])("img",{loading:"lazy",class:"carousel-img",src:e.COMMON.imgUrl+"/t/p/w220_and_h330_face"+t.poster_path},null,8,y),null!=t.video?(Object(l["I"])(),Object(l["k"])("div",w,Object(l["T"])(t.title),1)):(Object(l["I"])(),Object(l["k"])("div",k,Object(l["T"])(t.name),1))]),_:2},1032,["to"])]))),128))]),Object(l["n"])(F,{show:c.showSort,"onUpdate:show":t[5]||(t[5]=e=>c.showSort=e),"transform-origin":"center"},{default:Object(l["bb"])(()=>[Object(l["n"])(E,{style:{width:"600px"},title:"排序",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":Object(l["bb"])(()=>[Object(l["n"])(z,{onClick:t[2]||(t[2]=e=>c.showSort=!c.showSort),strong:"",secondary:"",circle:""},{default:Object(l["bb"])(()=>[_]),_:1})]),default:Object(l["bb"])(()=>[Object(l["l"])("div",I,[C,Object(l["l"])("div",x,[Object(l["n"])(D,{value:c.mode,"onUpdate:value":t[3]||(t[3]=e=>c.mode=e),name:"radiogroup"},{default:Object(l["bb"])(()=>[Object(l["n"])(B,{vertical:""},{default:Object(l["bb"])(()=>[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.modes,e=>(Object(l["I"])(),Object(l["i"])(A,{onChange:c.handleChange,class:"sort-item",checked:c.mode===e.value,key:e.value,value:e.value},{default:Object(l["bb"])(()=>[Object(l["m"])(Object(l["T"])(e.label),1)]),_:2},1032,["onChange","checked","value"]))),128))]),_:1})]),_:1},8,["value"])]),P,Object(l["l"])("div",T,[Object(l["n"])(D,{value:c.order,"onUpdate:value":t[4]||(t[4]=e=>c.order=e),name:"radiogroup"},{default:Object(l["bb"])(()=>[Object(l["n"])(B,{vertical:""},{default:Object(l["bb"])(()=>[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.orders,e=>(Object(l["I"])(),Object(l["i"])(A,{onChange:c.handleChange,class:"sort-item",checked:c.order===e.value,key:e.value,value:e.value},{default:Object(l["bb"])(()=>[Object(l["m"])(Object(l["T"])(e.label),1)]),_:2},1032,["onChange","checked","value"]))),128))]),_:1})]),_:1},8,["value"])])])]),_:1})]),_:1},8,["show"]),Object(l["n"])(F,{show:c.showFilter,"onUpdate:show":t[9]||(t[9]=e=>c.showFilter=e),"transform-origin":"center"},{default:Object(l["bb"])(()=>[Object(l["n"])(E,{style:{width:"600px"},title:"筛选",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":Object(l["bb"])(()=>[Object(l["n"])(z,{onClick:t[6]||(t[6]=e=>c.showFilter=!c.showFilter),strong:"",secondary:"",circle:""},{default:Object(l["bb"])(()=>[M]),_:1})]),default:Object(l["bb"])(()=>[U,Object(l["l"])("div",q,[Object(l["n"])(D,{value:c.genre,"onUpdate:value":t[7]||(t[7]=e=>c.genre=e),name:"radiogroup"},{default:Object(l["bb"])(()=>[Object(l["n"])(B,{vertical:""},{default:Object(l["bb"])(()=>[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.filters.Genres,e=>(Object(l["I"])(),Object(l["i"])(A,{onChange:c.handleChange,class:"sort-item",key:e,value:e},{default:Object(l["bb"])(()=>[Object(l["m"])(Object(l["T"])(e),1)]),_:2},1032,["onChange","value"]))),128))]),_:1})]),_:1},8,["value"])]),N,Object(l["l"])("div",R,[Object(l["n"])(D,{value:c.year,"onUpdate:value":t[8]||(t[8]=e=>c.year=e),name:"radiogroup"},{default:Object(l["bb"])(()=>[Object(l["n"])(B,{vertical:""},{default:Object(l["bb"])(()=>[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.filters.Years,e=>(Object(l["I"])(),Object(l["i"])(A,{onChange:c.handleChange,class:"sort-item",key:e,value:e},{default:Object(l["bb"])(()=>[Object(l["m"])(Object(l["T"])(e),1)]),_:2},1032,["onChange","value"]))),128))]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1},8,["show"])]))}var z=a("0d1c"),L=a.n(z),A=a("6605"),B={name:"VideoList",setup(){const e=Object(l["O"])(null),t=Object(l["O"])(null),a=Object(l["O"])(null),c=Object(l["O"])(null),i=Object(l["O"])(null),b=Object(l["O"])(null),s=Object(l["O"])(null),r=Object(l["O"])(!0),{proxy:o}=Object(l["p"])(),n=Object(l["O"])(null),O=Object(l["O"])(!1),d=Object(l["O"])("DateCreated"),u=Object(l["O"])("Descending"),j=Object(l["O"])(""),v=Object(l["O"])("");e.value=o.$route.query.gallery_uid,t.value=o.$route.query.gallery_type,a.value=48,c.value=1;const g=Object(l["O"])(8);o.COMMON.isMo&&(g.value=3);const h=Object(l["O"])(null);function m(e){let t=document.querySelectorAll(".sider-item a");t.forEach(e=>{e.classList.remove("active")}),t.forEach(t=>{let a=t.querySelector(".title");a.dataset.id==e&&t.classList.add("active")})}function p(){let e=a.value;n.value<a.value&&(e=n.value),h.value=n.value+" 的 "+(c.value-1)*a.value+"-"+((c.value-1)*a.value+e)}function f(){let l=o.COMMON.apiUrl+"/v1/api/thetv/gallery/list?id="+e.value+"&page="+c.value+"&size="+a.value;"movie"==t.value&&(l=o.COMMON.apiUrl+"/v1/api/themovie/gallery/list?id="+e.value+"&page="+c.value+"&size="+a.value),o.axios.post(l,{},{headers:{"content-type":"application/json",Authorization:o.$cookies.get("Authorization")}}).then(t=>{200==t.data.code&&(i.value=t.data.data,n.value=t.data.num,r.value=!1,m(e.value),p())}).catch(e=>{L.a.show({pos:"top-center",text:e,showAction:!1})})}Object(A["d"])((a,l)=>{e.value=a.query.gallery_uid,t.value=a.query.gallery_type,f()});const y=()=>{f()};return Object(l["F"])(()=>{f()}),{gallery_type:t,per_card:g,data:i,loading:r,error:s,page:c,size:a,num:n,search:O,pageText:h,filters:b,genre:j,year:v,refresh:y,handleChange(e){c.value=1,f()},showSort:Object(l["O"])(!1),showFilter:Object(l["O"])(!1),mode:d,modes:[{value:"SortName",label:"名称"},{value:"CommunityRating",label:"评分"},{value:"DateCreated",label:"加入时间"},{value:"SeriesDatePlayed",label:"播放日期"},{value:"OfficialRating",label:"家长分级"},{value:"PremiereDate",label:"发行时间"}].map(e=>(e.value=e.value.toLowerCase(),e)),order:u,orders:[{value:"Ascending",label:"升序"},{value:"Descending",label:"降序"}].map(e=>(e.value=e.value.toLowerCase(),e))}},methods:{GetImage(e){let t=this.COMMON.apiUrl+"Items/"+e.Id+"/Images/Primary?fillHeight=199&fillWidth=355&quality=96&tag="+e.Etag;return void 0==e.Etag&&(t=this.COMMON.apiUrl+"Items/"+e.ParentBackdropItemId+"/Images/Backdrop?fillHeight=200&fillWidth=355&quality=96&tag="+e.ImageTags.Primary),void 0==e.ParentBackdropItemId&&void 0==e.Etag&&(t="https://wework.qpic.cn/wwpic/940767_LbJj4kYaR6G12t1_1669304834/0"),t},GetICardimage(e){let t=this.COMMON.apiUrl+"Items/"+e.Id+"/Images/Primary?fillHeight=315&fillWidth=223&quality=96&tag="+e.ImageTags.Primary;return null==e.ImageTags.Primary&&(t="https://wework.qpic.cn/wwpic/713831_s31RnUK8SlmEuBO_1669537343/0"),t},BackPage(){this.page=this.page-1,this.page<=0&&(L.a.show({pos:"top-center",text:"已经是第1页啦",showAction:!1}),this.page=1),this.refresh()},NextPage(){this.page=this.page+1,this.refresh()}}},D=(a("4cb3"),a("6b0d")),E=a.n(D);const F=E()(B,[["render",S],["__scopeId","data-v-149088cd"]]);t["default"]=F}}]);
//# sourceMappingURL=chunk-2644d41c.839a9541.js.map