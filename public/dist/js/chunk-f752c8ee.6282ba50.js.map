{"version":3,"sources":["webpack:///./src/views/gallery/work/index.vue","webpack:///./src/views/gallery/work/index.vue?7f68","webpack:///./src/views/gallery/work/index.vue?7381"],"names":["class","_createElementVNode","$setup","loading","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_n_space","justify","size","_component_n_button","onClick","_cache","$event","reF","type","icon","_withCtx","_hoisted_6","$options","CreateShow","_hoisted_7","_hoisted_8","_component_n_grid","x-gap","y-gap","cols","responsive","_Fragment","_renderList","data","item","index","_createBlock","_component_n_gi","key","_component_n_card","title","header-extra","Editwork","strong","secondary","circle","_hoisted_9","footer","_hoisted_11","_hoisted_12","vertical","_hoisted_13","_toDisplayString","path","_hoisted_14","is_ok","_hoisted_15","watching","ErrFiles","_hoisted_16","showReNew","_hoisted_17","_hoisted_10","_component_n_progress","percentage","speed","file_number","toFixed","_component_n_modal","show","showModal","transform-origin","style","bordered","role","aria-modal","_hoisted_18","Create","_hoisted_19","_component_n_spin","_component_n_form","model","work","_component_n_form_item","label","_component_n_input","value","placeholder","clearable","_component_n_switch","is_ref","updateModal","_hoisted_20","Delete","_hoisted_21","Update","_hoisted_22","image","renewModal","_hoisted_23","ReNewWork","_hoisted_24","name","setup","ref","gallery_uid","error","proxy","getCurrentInstance","page","$route","query","fetchData","axios","post","COMMON","apiUrl","headers","$cookies","get","then","res","code","Snackbar","pos","text","msg","showAction","catch","async","onMounted","typeOptions","map","v","methods","this","Request","id","api","work_type","is_tv","$router","push","RefErrFiles","__exports__","render"],"mappings":"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","file":"js/chunk-f752c8ee.6282ba50.js","sourcesContent":["<template>\r\n    <div v-if=\"loading\" class=\"load\">\r\n    </div>\r\n    <div v-else class=\"content\">\r\n        <div class=\"content-header\">\r\n            <div class=\"content-header-title\">\r\n                挂载目录\r\n            </div>\r\n            <div class=\"content-header-tool\">\r\n                <n-space justify=\"end\" size=\"medium\">\r\n                    <n-button @click=\"reF()\" type=\"info\">\r\n                        <template #icon>\r\n                            <i class='bx bx-analyse'></i>\r\n                        </template>\r\n                        刷新\r\n                    </n-button>\r\n                    <n-button @click=\"CreateShow()\" type=\"info\">\r\n                        <template #icon>\r\n                            <i class='bx bx-plus-circle'></i>\r\n                        </template>\r\n                        新增\r\n                    </n-button>\r\n                    <!-- <n-button @click=\"reF()\" strong secondary circle>\r\n                        <i class='bx bx-analyse'></i>\r\n                    </n-button>\r\n                    <n-button @click=\"CreateShow()\" strong secondary circle>\r\n                        <i class='bx bx-plus-circle'></i>\r\n                    </n-button> -->\r\n                </n-space>\r\n            </div>\r\n        </div>\r\n        <div class=\"work-list\">\r\n            <n-grid x-gap=\"12\" y-gap=\"12\" cols=\"1 s:2 m:2 l:4 xl:4 2xl:8\" responsive=\"screen\">\r\n                <n-gi v-for=\"(item, index) in data\" :key=\"index\">\r\n                    <n-card title=\"目录\">\r\n                        <template #header-extra>\r\n                            <n-button @click=\"Editwork(item)\" strong secondary circle>\r\n                                <i class='bx bx-detail'></i>\r\n                            </n-button>\r\n                        </template>\r\n                        <div class=\"progres-content\">\r\n                            <n-progress type=\"circle\" :percentage=\"(item.speed * 100 / item.file_number).toFixed(0)\" />\r\n                        </div>\r\n                        <template #footer>\r\n                            <div class=\"work-tool\">\r\n                                <div class=\"work-data\">\r\n                                    <n-space justify=\"start\" size=\"medium\" vertical>\r\n                                        <div class=\"work-type\">\r\n                                            挂载目录：{{ item.path }}\r\n                                        </div>\r\n                                        <div class=\"work-alist\">\r\n                                            已完成：{{ item.is_ok ? \"是\" : \"否\" }}\r\n                                        </div>\r\n                                        <div class=\"work-watching\">\r\n                                            监控中：{{ item.watching ? \"是\" : \"否\" }}\r\n                                        </div>\r\n                                    </n-space>\r\n                                </div>\r\n                                <n-space justify=\"end\" size=\"medium\">\r\n                                    <n-button @click=\"ErrFiles(item)\" type=\"error\">\r\n                                        <template #icon>\r\n                                            <i class='bx bx-error'></i>\r\n                                        </template>\r\n                                        出错文件\r\n                                    </n-button>\r\n                                    <n-button @click=\"showReNew(item)\" type=\"info\">\r\n                                        <template #icon>\r\n                                            <i class='bx bx-plus-circle'></i>\r\n                                        </template>\r\n                                        重新刮削\r\n                                    </n-button>\r\n                                </n-space>\r\n                            </div>\r\n                        </template>\r\n                    </n-card>\r\n                </n-gi>\r\n            </n-grid>\r\n        </div>\r\n        <n-modal class=\"create\" v-model:show=\"showModal\" transform-origin=\"center\">\r\n            <n-card style=\"width: 600px\" title=\"创建\" :bordered=\"false\" size=\"huge\" role=\"dialog\" aria-modal=\"true\">\r\n                <template #header-extra>\r\n                    <n-button @click=\"showModal = !showModal\" strong secondary circle>\r\n                        <i class='bx bx-x'></i>\r\n                    </n-button>\r\n                </template>\r\n                <n-spin :show=\"show\">\r\n                    <n-form :model=\"work\">\r\n                        <n-form-item label=\"目录\">\r\n                            <n-input size=\"large\" v-model:value=\"work.path\" placeholder=\"\" clearable />\r\n                        </n-form-item>\r\n                        <n-form-item label=\"是否强制刷新alist缓存后再获取文件?\">\r\n                            <n-switch size=\"large\" v-model:value=\"work.is_ref\" placeholder=\"\" clearable />\r\n                        </n-form-item>\r\n                        <n-form-item label=\"是否监控目录,每天晚上2点自动扫描?\">\r\n                            <n-switch size=\"large\" v-model:value=\"work.watching\" placeholder=\"\" clearable />\r\n                        </n-form-item>\r\n                    </n-form>\r\n                </n-spin>\r\n                <template #footer>\r\n                    <n-space justify=\"end\" size=\"medium\">\r\n                        <n-button @click=\"Create()\" type=\"info\">\r\n                            <template #icon>\r\n                                <i class='bx bx-save'></i>\r\n                            </template>\r\n                            创建\r\n                        </n-button>\r\n                    </n-space>\r\n                </template>\r\n            </n-card>\r\n        </n-modal>\r\n        <n-modal class=\"update\" v-model:show=\"updateModal\" transform-origin=\"center\">\r\n            <n-card style=\"width: 600px\" title=\"更新\" :bordered=\"false\" size=\"huge\" role=\"dialog\" aria-modal=\"true\">\r\n                <template #header-extra>\r\n                    <n-button @click=\"updateModal = !updateModal\" strong secondary circle>\r\n                        <i class='bx bx-x'></i>\r\n                    </n-button>\r\n                </template>\r\n                <n-form :model=\"work\">\r\n                    <n-form-item label=\"目录\">\r\n                        <n-input size=\"large\" v-model:value=\"work.path\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item label=\"封面图片\">\r\n                        <n-input size=\"large\" v-model:value=\"work.image\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item label=\"是否强制刷新alist缓存后再获取文件?\">\r\n                        <n-switch size=\"large\" v-model:value=\"work.is_ref\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                    <n-form-item label=\"是否监控目录，每天晚上2点自动扫描?\">\r\n                        <n-switch size=\"large\" v-model:value=\"work.watching\" placeholder=\"\" clearable />\r\n                    </n-form-item>\r\n                </n-form>\r\n\r\n                <template #footer>\r\n                    <n-space justify=\"end\" size=\"medium\">\r\n                        <n-button @click=\"Delete()\" type=\"warning\">\r\n                            <template #icon>\r\n                                <i class='bx bx-trash'></i>\r\n                            </template>\r\n                            删除\r\n                        </n-button>\r\n                        <n-button @click=\"Update()\" type=\"info\">\r\n                            <template #icon>\r\n                                <i class='bx bx-save'></i>\r\n                            </template>\r\n                            更新\r\n                        </n-button>\r\n                    </n-space>\r\n                </template>\r\n            </n-card>\r\n        </n-modal>\r\n        <n-modal class=\"renew\" transform-origin=\"center\" v-model:show=\"renewModal\">\r\n            <n-card style=\"width: 600px\" title=\"确认\" :bordered=\"false\" size=\"huge\" role=\"dialog\" aria-modal=\"true\">\r\n                <template #header-extra>\r\n                    <n-button @click=\"renewModal = !renewModal\" strong secondary circle>\r\n                        <i class='bx bx-x'></i>\r\n                    </n-button>\r\n                </template>\r\n                <h3>确定重新刮削此挂载目录吗？</h3>\r\n                <template #footer>\r\n                    <n-space justify=\"end\" size=\"medium\">\r\n                        <n-button @click=\"ReNewWork()\" type=\"info\">\r\n                            确定\r\n                        </n-button>\r\n                    </n-space>\r\n                </template>\r\n            </n-card>\r\n        </n-modal>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Snackbar from 'node-snackbar';\r\nimport { getCurrentInstance, onMounted, ref } from \"vue\";\r\nexport default {\r\n    name: 'work',\r\n    setup() {\r\n        const loading = ref(true);\r\n        const show = ref(false);\r\n        const showModal = ref(false);\r\n        const updateModal = ref(false);\r\n        const renewModal = ref(false);\r\n        const gallery_uid = ref(null);\r\n        const error = ref(null);\r\n        const data = ref(null);\r\n        const { proxy } = getCurrentInstance();\r\n        const page = ref(1);\r\n        const size = ref(24);\r\n        gallery_uid.value = proxy.$route.query.gallery_uid;\r\n        const work = ref({\r\n            \"id\": null,\r\n            \"gallery_id\": null,\r\n            \"gallery_uid\": \"\",\r\n            \"image\": \"\",\r\n            \"path\": \"\",\r\n            \"file_number\": 0,\r\n            \"speed\": 0,\r\n            \"is_ok\": false,\r\n            \"watching\": false,\r\n            \"is_ref\": false,\r\n        })\r\n\r\n        function fetchData() {\r\n            proxy.axios.post(proxy.COMMON.apiUrl + '/v1/api/work/gallery/list?page=' + page.value + '&size=' + size.value + \"&id=\" + gallery_uid.value, {}, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': proxy.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    data.value = res.data.data;\r\n                    loading.value = false;\r\n                } else {\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                }\r\n            }).catch((error) => {\r\n                Snackbar.show({ pos: 'top-center', text: error, showAction: false });\r\n            });\r\n        }\r\n\r\n        const reF = async () => {\r\n            fetchData();\r\n        };\r\n        onMounted(() => {\r\n            fetchData();\r\n        });\r\n        return {\r\n            data,\r\n            error,\r\n            loading,\r\n            gallery_uid,\r\n            showModal,\r\n            page,\r\n            work,\r\n            show,\r\n            size,\r\n            updateModal,\r\n            renewModal,\r\n            reF,\r\n            typeOptions: [\"movie\", \"tv\"].map(\r\n                (v) => ({\r\n                    label: v,\r\n                    value: v\r\n                })\r\n            )\r\n        }\r\n    },\r\n    methods: {\r\n        CreateShow() {\r\n            this.work = {\r\n                \"id\": null,\r\n                \"gallery_id\": null,\r\n                \"gallery_uid\": \"\",\r\n                \"image\": \"\",\r\n                \"path\": \"\",\r\n                \"file_number\": 0,\r\n                \"speed\": 0,\r\n                \"is_ok\": false,\r\n                \"watching\": false,\r\n                \"is_ref\": false,\r\n            };\r\n            this.work.gallery_uid = this.gallery_uid\r\n            this.showModal = !this.showModal;\r\n        },\r\n        Editwork(work) {\r\n            this.work = work;\r\n            this.updateModal = !this.updateModal;\r\n        },\r\n        showReNew(work) {\r\n            this.work = work;\r\n            this.renewModal = !this.renewModal;\r\n        },\r\n        ReNewWork(work) {\r\n            this.Request(this.COMMON.apiUrl + '/v1/api/work/renew?id=' + this.work.id, {})\r\n        },\r\n        Request(api, data) {\r\n            this.axios.post(api, data, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': this.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                    this.reF();\r\n                } else {\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                }\r\n            }).catch((error) => {\r\n                Snackbar.show({ pos: 'top-center', text: error, showAction: false });\r\n            });\r\n        },\r\n        Create() {\r\n            if (this.work.work_type == \"tv\") {\r\n                this.work.is_tv = true;\r\n            }\r\n            this.show = true;\r\n            let api = this.COMMON.apiUrl + '/v1/api/work/create';\r\n            this.axios.post(api, this.work, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': this.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.show = false;\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                    this.reF();\r\n                } else {\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                }\r\n            }).catch((error) => {\r\n                Snackbar.show({ pos: 'top-center', text: error, showAction: false });\r\n            });\r\n        },\r\n        Update() {\r\n            this.Request(this.COMMON.apiUrl + '/v1/api/work/update?id=' + this.work.id, this.work)\r\n        },\r\n        Delete() {\r\n            this.Request(this.COMMON.apiUrl + '/v1/api/work/delete?id=' + this.work.id, {})\r\n        },\r\n        ErrFiles(work) {\r\n            this.$router.push({\r\n                path: \"/gallerys/works/errfiles\",\r\n                query: {\r\n                    id: work.id\r\n                }\r\n            })\r\n        },\r\n        RefErrFiles(work) {\r\n            this.axios.post(`${this.COMMON.apiUrl}/v1/api/errfile/ref/work/list?id=${work.id}`, {}, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': this.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n            }).catch((error) => {\r\n                Snackbar.show({ pos: 'top-center', text: error, showAction: false });\r\n            });\r\n        }\r\n    }\r\n}\r\n</script >\r\n\r\n<style scoped>\r\n.content-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    min-height: 60px;\r\n    margin-bottom: 12px;\r\n}\r\n\r\n\r\n.content-header-title {\r\n    font-size: 1.4em;\r\n}\r\n\r\n.work-data {\r\n    font-size: 18px;\r\n}\r\n\r\n.work-img {\r\n    width: 100%;\r\n}\r\n\r\n.progres-content {\r\n    text-align: center;\r\n}\r\n</style>","import { render } from \"./index.vue?vue&type=template&id=5d7ee114&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5d7ee114&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\file\\\\vue\\\\onelist-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5d7ee114\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=5d7ee114&scoped=true&lang=css\""],"sourceRoot":""}