(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c755b302"],{"17a0":function(e,t,a){},"2b9c":function(e,t,a){"use strict";a.r(t);var l=a("7a23");const c=e=>(Object(l["L"])("data-v-4c268997"),e=e(),Object(l["J"])(),e),s={key:0,class:"load"},i={key:1,class:"main-content"},o={class:"view-backdrop"},b={class:"mainColumn"},n={class:"view-scroller"},d={class:"view-card-image"},r=["src"],O={class:"view-card-detail detailTextContainer"},j={class:"lex-direction-column"},h={class:"itemPrimaryNameContainer"},u={class:"itemName-primary"},p={class:"mediaInfo"},v={class:"mediaInfoItem"},f=c(()=>Object(l["l"])("span",{class:"icon-star"},[Object(l["l"])("i",{class:"bx bxs-star"})],-1)),w={class:"mediaInfoItem"},y={class:"mediaInfoItem mediaInfoOfficialRating"},m={class:"mediaInfoItem tag-list"},_=c(()=>Object(l["l"])("span",{class:"button-icon"},[Object(l["l"])("i",{class:"bx bxs-caret-right-circle"})],-1)),g=c(()=>Object(l["l"])("span",{class:"button-text"}," 播放 ",-1)),k=[_,g],x=c(()=>Object(l["l"])("span",{class:"button-icon"},[Object(l["l"])("i",{class:"bx bx-check-circle"})],-1)),M=c(()=>Object(l["l"])("span",{class:"button-text"}," 已播放 ",-1)),C=[x,M],R=c(()=>Object(l["l"])("span",{class:"button-icon"},[Object(l["l"])("i",{class:"bx bxs-heart"})],-1)),I=[R],N=c(()=>Object(l["l"])("span",{class:"button-icon"},[Object(l["l"])("i",{class:"bx bxs-star"})],-1)),A=[N],z=c(()=>Object(l["l"])("span",{class:"button-icon"},[Object(l["l"])("i",{class:"bx bxs-trash-alt"})],-1)),B=[z],$=c(()=>Object(l["l"])("button",{class:"detailButton circleButton"},[Object(l["l"])("span",{class:"button-icon"},[Object(l["l"])("i",{class:"bx bx-dots-vertical-rounded"})])],-1)),q={class:"overview-text"},T={key:0,class:"showContainer"},U={class:"show-header"},P=c(()=>Object(l["l"])("div",{class:"show-title"},[Object(l["l"])("h3",null,"季")],-1)),S={class:"show-header-tool"},V=c(()=>Object(l["l"])("i",{class:"bx bx-chevron-left"},null,-1)),D=c(()=>Object(l["l"])("i",{class:"bx bx-chevron-right"},null,-1)),F={style:{"white-space":"nowrap"}},J={class:"show-card-list"},H={class:"show-img"},Y=["src"],K={class:"show-name season-name"},L={class:"showContainer"},E={class:"show-header"},G=c(()=>Object(l["l"])("div",{class:"show-title"},[Object(l["l"])("h3",null,"演职人员")],-1)),Q={class:"show-header-tool"},W=c(()=>Object(l["l"])("i",{class:"bx bx-chevron-left"},null,-1)),X=c(()=>Object(l["l"])("i",{class:"bx bx-chevron-right"},null,-1)),Z={style:{"white-space":"nowrap"}},ee={class:"show-card-list"},te={class:"show-img"},ae=["src"],le={key:1,loading:"lazy",src:"/images/not_person.jpg",alt:""},ce={class:"show-name"},se={class:"showContainer"},ie={class:"show-header"},oe=c(()=>Object(l["l"])("div",{class:"show-title"},[Object(l["l"])("h3",null,"同类型推荐")],-1)),be={class:"show-header-tool"},ne=c(()=>Object(l["l"])("i",{class:"bx bx-chevron-left"},null,-1)),de=c(()=>Object(l["l"])("i",{class:"bx bx-chevron-right"},null,-1)),re={style:{"white-space":"nowrap"}},Oe={class:"view-card-list"},je={class:"view-item-header"},he={class:"view-item-tag-list"},ue={class:"view-item-tag rating"},pe={key:0,class:"view-item-tag count"},ve=c(()=>Object(l["l"])("i",{class:"bx bx-check"},null,-1)),fe=[ve],we=["src"],ye={key:0,class:"view-item-title"},me={key:1,class:"view-item-title"},_e=c(()=>Object(l["l"])("i",{class:"bx bx-x"},null,-1)),ge=c(()=>Object(l["l"])("h3",null,"确定要删除此资源吗？",-1)),ke=c(()=>Object(l["l"])("i",{class:"bx bx-x"},null,-1)),xe=c(()=>Object(l["l"])("i",{class:"bx bx-search"},null,-1)),Me={class:"seart-list"},Ce={class:"search-img"},Re=["src"],Ie={class:"search-content"},Ne={class:"search-title"},Ae={class:"search-id"},ze={class:"search-overview"};function Be(e,t,a,c,_,g){const x=Object(l["R"])("n-dropdown"),M=Object(l["R"])("n-space"),R=Object(l["R"])("n-button"),N=Object(l["R"])("router-link"),z=Object(l["R"])("n-scrollbar"),ve=Object(l["R"])("n-card"),Be=Object(l["R"])("n-modal"),$e=Object(l["R"])("n-input"),qe=Object(l["R"])("n-spin");return c.loading?(Object(l["I"])(),Object(l["k"])("div",s)):(Object(l["I"])(),Object(l["k"])("div",i,[Object(l["l"])("div",{class:"backdropContainer",style:Object(l["z"])({backgroundImage:"url("+c.backImg+")"})},null,4),Object(l["l"])("div",o,[Object(l["l"])("div",b,[Object(l["l"])("div",n,[Object(l["l"])("div",d,[Object(l["l"])("img",{src:e.COMMON.imgUrl+"/t/p/w220_and_h330_face"+c.data.poster_path,alt:""},null,8,r)]),Object(l["l"])("div",O,[Object(l["l"])("div",j,[Object(l["l"])("div",h,[Object(l["l"])("h1",u,Object(l["T"])("tv"==c.gallery_type?c.data.name:c.data.title),1)]),Object(l["l"])("div",p,[Object(l["l"])("div",v,[f,Object(l["m"])(Object(l["T"])(isNaN(Math.floor(100*c.data.vote_average)/100)?"":Math.floor(100*c.data.vote_average)/100),1)]),Object(l["l"])("div",w,Object(l["T"])(c.data.release_date),1),Object(l["l"])("div",y,Object(l["T"])(c.data.OfficialRating?c.data.OfficialRating:"-"),1),Object(l["l"])("div",m,[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.data.genres,(e,t)=>(Object(l["I"])(),Object(l["k"])("div",{class:"tag-item",key:t},Object(l["T"])(e.name),1))),128))])]),Object(l["n"])(M,{size:"large",class:"detailButtons"},{default:Object(l["bb"])(()=>[Object(l["l"])("button",{onClick:t[0]||(t[0]=e=>g.Play()),class:"detailButton outlineButton"},k),Object(l["l"])("button",{onClick:t[1]||(t[1]=e=>g.ReNewPlayed()),class:Object(l["y"])([c.data.played?"active":"","detailButton","outlineButton"])},C,2),Object(l["l"])("button",{onClick:t[2]||(t[2]=e=>g.ReNewHeart()),class:Object(l["y"])([c.data.heart?"active":"","detailButton","circleButton"])},I,2),Object(l["l"])("button",{onClick:t[3]||(t[3]=e=>g.ReNewStar()),class:Object(l["y"])([c.data.star?"active":"","detailButton","circleButton"])},A,2),Object(l["cb"])(Object(l["l"])("button",{onClick:t[4]||(t[4]=e=>c.deleteModal=!c.deleteModal),class:"detailButton circleButton"},B,512),[[l["Y"],c.is_admin]]),Object(l["cb"])(Object(l["n"])(x,{trigger:"hover",size:"large",options:c.options,onSelect:c.handleSelect},{default:Object(l["bb"])(()=>[$]),_:1},8,["options","onSelect"]),[[l["Y"],c.is_admin]])]),_:1}),Object(l["l"])("div",q,Object(l["T"])(c.data.overview),1)])])]),"tv"==c.gallery_type?(Object(l["I"])(),Object(l["k"])("div",T,[Object(l["l"])("div",U,[P,Object(l["l"])("div",S,[Object(l["n"])(M,null,{default:Object(l["bb"])(()=>[Object(l["n"])(R,{onClick:t[5]||(t[5]=e=>{var t;return null===(t=c.seasonRef)||void 0===t?void 0:t.scrollBy({left:-c.left})}),circle:""},{default:Object(l["bb"])(()=>[V]),_:1}),Object(l["n"])(R,{onClick:t[6]||(t[6]=e=>{var t;return null===(t=c.seasonRef)||void 0===t?void 0:t.scrollBy({left:c.left})}),circle:""},{default:Object(l["bb"])(()=>[D]),_:1})]),_:1})])]),Object(l["n"])(z,{ref:"seasonRef","x-scrollable":""},{default:Object(l["bb"])(()=>[Object(l["l"])("div",F,[Object(l["l"])("div",J,[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.data.the_seasons,(t,a)=>(Object(l["I"])(),Object(l["k"])("div",{class:"show-card-item",key:a},[Object(l["n"])(N,{to:{path:"/season",query:{id:t.id,tv_id:c.data.id,gallery_type:c.gallery_type}}},{default:Object(l["bb"])(()=>[Object(l["l"])("div",H,[Object(l["l"])("img",{src:e.COMMON.imgUrl+"/t/p/w220_and_h330_face/"+t.poster_path,alt:""},null,8,Y)])]),_:2},1032,["to"]),Object(l["l"])("div",K,Object(l["T"])(t.name),1)]))),128))])])]),_:1},512)])):Object(l["j"])("",!0),Object(l["l"])("div",L,[Object(l["l"])("div",E,[G,Object(l["l"])("div",Q,[Object(l["n"])(M,null,{default:Object(l["bb"])(()=>[Object(l["n"])(R,{onClick:t[7]||(t[7]=e=>{var t;return null===(t=c.siderRef)||void 0===t?void 0:t.scrollBy({left:-c.left})}),circle:""},{default:Object(l["bb"])(()=>[W]),_:1}),Object(l["n"])(R,{onClick:t[8]||(t[8]=e=>{var t;return null===(t=c.siderRef)||void 0===t?void 0:t.scrollBy({left:c.left})}),circle:""},{default:Object(l["bb"])(()=>[X]),_:1})]),_:1})])]),Object(l["n"])(z,{ref:"siderRef","x-scrollable":""},{default:Object(l["bb"])(()=>[Object(l["l"])("div",Z,[Object(l["l"])("div",ee,[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.data.the_persons,(t,a)=>(Object(l["I"])(),Object(l["k"])("div",{class:"show-card-item",key:a},[Object(l["n"])(N,{to:{path:"/person",query:{id:t.id}}},{default:Object(l["bb"])(()=>[Object(l["l"])("div",te,[t.profile_path.length>0?(Object(l["I"])(),Object(l["k"])("img",{key:0,loading:"lazy",src:e.COMMON.imgUrl+"/t/p/w220_and_h330_face/"+t.profile_path,alt:""},null,8,ae)):(Object(l["I"])(),Object(l["k"])("img",le))])]),_:2},1032,["to"]),Object(l["l"])("div",ce,Object(l["T"])(t.name),1)]))),128))])])]),_:1},512)]),Object(l["l"])("div",se,[Object(l["l"])("div",ie,[oe,Object(l["l"])("div",be,[Object(l["n"])(M,null,{default:Object(l["bb"])(()=>[Object(l["n"])(R,{onClick:t[9]||(t[9]=e=>{var t;return null===(t=c.videoRef)||void 0===t?void 0:t.scrollBy({left:-c.left})}),circle:""},{default:Object(l["bb"])(()=>[ne]),_:1}),Object(l["n"])(R,{onClick:t[10]||(t[10]=e=>{var t;return null===(t=c.videoRef)||void 0===t?void 0:t.scrollBy({left:c.left})}),circle:""},{default:Object(l["bb"])(()=>[de]),_:1})]),_:1})])]),Object(l["n"])(z,{ref:"videoRef","x-scrollable":""},{default:Object(l["bb"])(()=>[Object(l["l"])("div",re,[Object(l["l"])("div",Oe,[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.like,(t,a)=>(Object(l["I"])(),Object(l["k"])("div",{class:"view-item",key:a},[Object(l["n"])(N,{to:{path:"/video",query:{id:t.id,gallery_type:c.gallery_type}}},{default:Object(l["bb"])(()=>[Object(l["l"])("div",je,[Object(l["l"])("div",he,[Object(l["l"])("div",ue,Object(l["T"])(isNaN(Math.floor(100*t.vote_average)/100)?"":Math.floor(100*t.vote_average)/100),1),t.played?(Object(l["I"])(),Object(l["k"])("div",pe,fe)):Object(l["j"])("",!0)])]),Object(l["l"])("img",{loading:"lazy",class:"carousel-img",src:e.COMMON.imgUrl+"/t/p/w220_and_h330_face/"+t.poster_path},null,8,we),null!=t.video?(Object(l["I"])(),Object(l["k"])("div",ye,Object(l["T"])(t.title),1)):(Object(l["I"])(),Object(l["k"])("div",me,Object(l["T"])(t.name),1))]),_:2},1032,["to"])]))),128))])])]),_:1},512)])])]),Object(l["n"])(Be,{"transform-origin":"center",show:c.deleteModal,"onUpdate:show":t[14]||(t[14]=e=>c.deleteModal=e)},{default:Object(l["bb"])(()=>[Object(l["n"])(ve,{style:{width:"600px"},title:"确认",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":Object(l["bb"])(()=>[Object(l["n"])(R,{onClick:t[11]||(t[11]=e=>c.deleteModal=!c.deleteModal),strong:"",secondary:"",circle:""},{default:Object(l["bb"])(()=>[_e]),_:1})]),footer:Object(l["bb"])(()=>[Object(l["n"])(M,{justify:"end",size:"medium"},{default:Object(l["bb"])(()=>[Object(l["n"])(R,{onClick:t[12]||(t[12]=e=>c.deleteModal=!c.deleteModal),type:"info"},{default:Object(l["bb"])(()=>[Object(l["m"])(" 取消 ")]),_:1}),Object(l["n"])(R,{onClick:t[13]||(t[13]=e=>g.DeleteVideo()),type:"warning"},{default:Object(l["bb"])(()=>[Object(l["m"])(" 确定 ")]),_:1})]),_:1})]),default:Object(l["bb"])(()=>[ge]),_:1})]),_:1},8,["show"]),Object(l["n"])(Be,{"transform-origin":"center",show:c.scrapeModal,"onUpdate:show":t[20]||(t[20]=e=>c.scrapeModal=e)},{default:Object(l["bb"])(()=>[Object(l["n"])(ve,{style:{width:"600px"},title:"重新刮削",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":Object(l["bb"])(()=>[Object(l["n"])(R,{onClick:t[15]||(t[15]=e=>c.scrapeModal=!c.scrapeModal),strong:"",secondary:"",circle:""},{default:Object(l["bb"])(()=>[ke]),_:1})]),footer:Object(l["bb"])(()=>[Object(l["n"])(M,{justify:"end",size:"medium"},{default:Object(l["bb"])(()=>[Object(l["n"])(R,{onClick:t[18]||(t[18]=e=>c.scrapeModal=!c.scrapeModal),type:"info"},{default:Object(l["bb"])(()=>[Object(l["m"])(" 关闭 ")]),_:1}),Object(l["n"])(R,{onClick:t[19]||(t[19]=e=>g.SearchVideo()),type:"info"},{default:Object(l["bb"])(()=>[Object(l["m"])(" 搜索 ")]),_:1})]),_:1})]),default:Object(l["bb"])(()=>[Object(l["n"])(qe,{show:c.show},{default:Object(l["bb"])(()=>[Object(l["n"])($e,{onKeyup:t[16]||(t[16]=Object(l["db"])(e=>g.SearchVideo(),["enter"])),value:c.q,"onUpdate:value":t[17]||(t[17]=e=>c.q=e),type:"text",size:"large",placeholder:""},{prefix:Object(l["bb"])(()=>[xe]),_:1},8,["value"]),Object(l["l"])("div",Me,[(Object(l["I"])(!0),Object(l["k"])(l["b"],null,Object(l["P"])(c.searchData,(e,t)=>(Object(l["I"])(),Object(l["k"])("div",{class:"search-itme",key:t},[Object(l["l"])("div",Ce,[Object(l["l"])("img",{loading:"lazy",src:"https://image.tmdb.org/t/p/w220_and_h330_face/"+e.poster_path},null,8,Re)]),Object(l["l"])("div",Ie,[Object(l["l"])("div",Ne,Object(l["T"])("tv"==c.gallery_type?e.name:e.title),1),Object(l["l"])("div",Ae," ID:"+Object(l["T"])(e.id),1),Object(l["l"])("div",ze," 简介:"+Object(l["T"])(e.overview),1),Object(l["n"])(M,{justify:"end",size:"medium"},{default:Object(l["bb"])(()=>[Object(l["n"])(R,{onClick:t=>g.RefVideo(e.id),type:"info"},{default:Object(l["bb"])(()=>[Object(l["m"])(" 选中刮削 ")]),_:2},1032,["onClick"])]),_:2},1024)])]))),128))])]),_:1},8,["show"])]),_:1})]),_:1},8,["show"])]))}a("14d9");var $e=a("0d1c"),qe=a.n($e),Te=a("6605"),Ue={name:"VideoData",setup(){const e=Object(l["O"])(!1),t=Object(l["O"])(!0),a=Object(l["O"])(!1),c=Object(l["O"])(!1),s=Object(l["O"])(!1),i=Object(l["O"])(!1),o=Object(l["O"])(null),b=Object(l["O"])(null),n=Object(l["O"])(null),d=Object(l["O"])(null),r=Object(l["O"])(null),O=Object(l["O"])(null),j=Object(l["O"])(null),h=Object(l["O"])(null),{proxy:u}=Object(l["p"])(),p=Object(l["O"])(null),v=Object(l["O"])(null),f=Object(l["O"])(null),w=Object(l["O"])(null),y=Object(l["O"])(null),m=Object(l["O"])(null),_=Object(l["O"])({data_type:"",data_id:""});function g(){let e=u.COMMON.apiUrl+"/v1/api/themovie/id?id="+o.value;"tv"==b.value&&(e=u.COMMON.apiUrl+"/v1/api/thetv/id?id="+o.value),u.axios.post(e,{},{headers:{"content-type":"application/json",Authorization:u.$cookies.get("Authorization")}}).then(e=>{200==e.data.code?(r.value=e.data.data,O.value=e.data.like,_.value.data_type=b.value,_.value.data_id=r.value.id,d.value=u.COMMON.imgUrl+"/t/p/w1920_and_h1080_bestv2"+r.value.backdrop_path,t.value=!1):qe.a.show({pos:"top-center",text:e.data.msg,showAction:!1})}).catch(e=>{qe.a.show({pos:"top-center",text:e,showAction:!1})})}m.value=1070,o.value=u.$route.query.id,b.value=u.$route.query.gallery_type,"true"==u.$cookies.get("is_admin")&&(a.value=!0),Object(Te["d"])((e,t)=>{o.value=e.query.id,b.value=e.query.gallery_type,g()}),Object(l["F"])(()=>{g()});const k=()=>{g()};return{id:o,show:e,is_admin:a,deleteModal:c,scrapeModal:s,updateModal:i,data:r,like:O,gallery_type:b,siderRef:p,videoRef:v,seasonRef:f,boxsetRef:w,simila:j,loading:t,error:h,backImg:d,left:m,form:_,reF:k,q:n,searchData:y,options:[{label:"重新刮削",key:"scrape"}],handleSelect(e){"edit"==e?i.value=!0:"scrape"==e&&(s.value=!0)}}},methods:{Play(){let e=0;"tv"==this.gallery_type&&(e=this.data.seasons[0].id),this.$router.push({path:"/player",query:{id:this.id,gallery_type:this.gallery_type,season_id:e}})},Request(e,t){this.axios.post(e,t,{headers:{"content-type":"application/json",Authorization:this.$cookies.get("Authorization")}}).then(e=>{200==e.data.code?(this.reF(),qe.a.show({pos:"top-center",text:e.data.msg,showAction:!1})):qe.a.show({pos:"top-center",text:e.data.msg,showAction:!1})}).catch(e=>{qe.a.show({pos:"top-center",text:e,showAction:!1})})},ReNewPlayed(){this.Request(this.COMMON.apiUrl+"/v1/api/played/renew",this.form)},ReNewStar(){this.Request(this.COMMON.apiUrl+"/v1/api/star/renew",this.form)},ReNewHeart(){this.Request(this.COMMON.apiUrl+"/v1/api/heart/renew",this.form)},DeleteVideo(){let e=this.COMMON.apiUrl+"/v1/api/themovie/delete?id="+this.data.id;"tv"==this.gallery_type&&(e=this.COMMON.apiUrl+"/v1/api/thetv/delete?id="+this.data.id),this.axios.post(e,{},{headers:{"content-type":"application/json",Authorization:this.$cookies.get("Authorization")}}).then(e=>{200==e.data.code?(qe.a.show({pos:"top-center",text:e.data.msg,showAction:!1}),setTimeout(()=>{this.$router.push({path:"/"})},1e3)):qe.a.show({pos:"top-center",text:e.data.msg,showAction:!1})}).catch(e=>{qe.a.show({pos:"top-center",text:e,showAction:!1})})},SearchVideo(){this.show=!0;let e=`${this.COMMON.apiUrl}/v1/api/errfile/ref/file/search?name=${this.q}&type=${this.gallery_type}`;this.axios.post(e,{},{headers:{"content-type":"application/json",Authorization:this.$cookies.get("Authorization")}}).then(e=>{200==e.data.code?(qe.a.show({pos:"top-center",text:e.data.msg,showAction:!1}),this.searchData=e.data.data.results):qe.a.show({pos:"top-center",text:e.data.msg,showAction:!1}),this.show=!1}).catch(e=>{qe.a.show({pos:"top-center",text:e,showAction:!1})})},RefVideo(e){qe.a.show({pos:"top-center",text:"刮削比较耗时,可离开此页面或者耐心等待....",showAction:!1}),this.show=!0;let t=`${this.COMMON.apiUrl}/v1/api/errfile/ref/video/id?id=${e}&old_id=${this.data.id}&type=${this.gallery_type}`;this.axios.post(t,{},{headers:{"content-type":"application/json",Authorization:this.$cookies.get("Authorization")}}).then(t=>{200==t.data.code?(qe.a.show({pos:"top-center",text:t.data.msg,showAction:!1}),setTimeout(()=>{this.$router.push({path:"/video",query:{id:e,gallery_type:this.gallery_type}})},1e3)):qe.a.show({pos:"top-center",text:t.data.msg,showAction:!1}),this.show=!1}).catch(e=>{qe.a.show({pos:"top-center",text:e,showAction:!1})})}}},Pe=(a("958a"),a("6b0d")),Se=a.n(Pe);const Ve=Se()(Ue,[["render",Be],["__scopeId","data-v-4c268997"]]);t["default"]=Ve},"958a":function(e,t,a){"use strict";a("17a0")}}]);
//# sourceMappingURL=chunk-c755b302.d885c1ee.js.map