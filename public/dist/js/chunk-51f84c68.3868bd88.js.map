{"version":3,"sources":["webpack:///./src/views/setting/index.vue","webpack:///./src/views/setting/index.vue?6262","webpack:///./src/views/setting/index.vue?c1a7"],"names":["class","_createElementVNode","$setup","load","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_n_form","model","config","label-placement","label-align","label-width","style","_component_n_form_item","label","path","_component_n_input","value","title","$event","size","placeholder","clearable","faviconico_url","download_image","img_url","key_db","_component_n_button","onClick","_cache","$options","Save","type","name","setup","ref","proxy","getCurrentInstance","getConfig","axios","post","COMMON","apiUrl","headers","$cookies","get","then","res","data","code","Snackbar","show","pos","text","msg","showAction","catch","error","saveConfig","localStorage","setItem","location","reload","onMounted","saveF","async","methods","this","__exports__","render"],"mappings":"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","file":"js/chunk-51f84c68.3868bd88.js","sourcesContent":["<template>\r\n    <div v-if=\"load\" class=\"load\"></div>\r\n    <div v-else class=\"content setting-content\">\r\n        <div class=\"setting-header\">\r\n            <div class=\"setting-title\">\r\n                <h2>系统设置</h2>\r\n            </div>\r\n        </div>\r\n        <div class=\"setting-content-form\">\r\n            <n-form :model=\"config\" label-placement=\"top\" label-align=\"left\" :label-width=\"140\" :style=\"{\r\n                maxWidth: '640px'\r\n            }\">\r\n                <n-form-item label=\"影视库名字\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.title\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-form-item label=\"影视库图标\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.faviconico_url\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-form-item label=\"是否下载刮削图片到本地，填'是',或者'否'\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.download_image\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-form-item label=\"图片来源,留空则表示使用本地缓存图片,否则使用https://image.tmdb.org提供\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.img_url\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-form-item label=\"TheMovieDb api密匙\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.key_db\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-button class=\"btn-save\" @click=\"Save()\" type=\"info\">\r\n                    保存\r\n                </n-button>\r\n            </n-form>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Snackbar from 'node-snackbar';\r\nimport { getCurrentInstance, onMounted, ref } from \"vue\";\r\nexport default {\r\n    name: \"index\",\r\n    setup() {\r\n        const config = ref({\r\n            \"title\": null,\r\n            \"download_image\": null,\r\n            \"img_url\": null,\r\n            \"key_db\": null,\r\n            \"faviconico_url\": null\r\n        })\r\n        const { proxy } = getCurrentInstance();\r\n        const load = ref(true);\r\n\r\n        function getConfig() {\r\n            proxy.axios.post(proxy.COMMON.apiUrl + `/v1/api/config/data`, {}, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': proxy.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    config.value = res.data.data;\r\n                    load.value = false;\r\n                } else {\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                }\r\n            }).catch((error) => {\r\n                Snackbar.show({ pos: 'top-center', text: error, showAction: false });\r\n                load.value = false;\r\n            });\r\n        }\r\n\r\n        function saveConfig() {\r\n            proxy.axios.post(proxy.COMMON.apiUrl + `/v1/api/config/save`, config.value, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': proxy.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    config.value = res.data.data;\r\n                    localStorage.setItem(\"title\", config.value.title);\r\n                    localStorage.setItem(\"img_url\", config.value.img_url);\r\n                    location.reload();\r\n                } else {\r\n                    Snackbar.show({ pos: 'top-center', text: res.data.msg, showAction: false });\r\n                }\r\n            }).catch((error) => {\r\n                Snackbar.show({ pos: 'top-center', text: error, showAction: false });\r\n                load.value = false;\r\n            });\r\n        }\r\n        onMounted(() => {\r\n            getConfig();\r\n        });\r\n        const saveF = async () => {\r\n            saveConfig();\r\n        };\r\n\r\n        return {\r\n            config,\r\n            load,\r\n            saveF\r\n        }\r\n    },\r\n    methods: {\r\n        Save() {\r\n            this.saveF();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.setting-header {\r\n    margin-bottom: 20px;\r\n    margin-top: 20px;\r\n}\r\n\r\n.btn-save {\r\n    width: 100%;\r\n}\r\n</style>","import { render } from \"./index.vue?vue&type=template&id=9bd4b7e6&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=9bd4b7e6&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\file\\\\vue\\\\onelist-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9bd4b7e6\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=9bd4b7e6&scoped=true&lang=css\""],"sourceRoot":""}